try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f3f29fae-beb8-4426-9789-86d383aeab11",e._sentryDebugIdIdentifier="sentry-dbid-f3f29fae-beb8-4426-9789-86d383aeab11")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[953],{874:(e,t,s)=>{s.d(t,{O:()=>a,U:()=>l});var n=s(7620),i=s(11362);let a=()=>{let e=(0,n.useContext)(i.O);if(!e)throw Error("useExtensions must be used within ExtensionsProvider");return e},l=()=>{let{extensions:e,setExtensionSettings:t}=a();return async s=>{let n=e.find(e=>e.id===s);if(!n)return;let i=n.settings||{};await t(s,{...i,isEnabled:!i.isEnabled})}}},3354:(e,t,s)=>{s.d(t,{So:()=>o,wH:()=>d,yo:()=>c});var n=s(62101),i=s(7620),a=s(50125),l=s(55323),r=s(40459);let o=async e=>{try{let t=await (null===n.Fd||void 0===n.Fd?void 0:n.Fd.getCompatibilityCheckResult());return function(e,t){var s,n,i;let r=[];if(!t)return r.push("claude-version-mismatch"),{compatible:!1,errorCodes:r};let o=function(e){var t;if(!(null==(t=e.compatibility)?void 0:t.platforms))return{compatible:!0};let s=(0,l.E)(),n=null==s?void 0:s.platform;return n&&e.compatibility.platforms.includes(n)?{compatible:!0}:{compatible:!1,errorCodes:["platform-mismatch"]}}(e);!o.compatible&&o.errorCodes&&r.push(...o.errorCodes);let d=(s=e,n=t,(null==(i=s.compatibility)?void 0:i.claude_desktop)&&n.appVersion?(0,a.satisfies)(n.appVersion,s.compatibility.claude_desktop)?{compatible:!0}:{compatible:!1,errorCodes:["claude-version-mismatch"]}:{compatible:!0});if(!d.compatible&&d.errorCodes&&r.push(...d.errorCodes),"node"===e.server.type){let s=function(e,t){var s,n;if("node"!==e.server.type)return{compatible:!0};let i=e.server.mcp_config.command,{builtInNodeVersion:l,nodeVersion:r}=t,o=null==(n=e.compatibility)||null==(s=n.runtimes)?void 0:s.node;if(r&&(!o||o&&(0,a.satisfies)(r,o)))return{compatible:!0};if(l){let e=i&&/^node(\.exe)?$/.test(i),t=!o||(0,a.satisfies)(l,o);return e||r?t?{compatible:!0}:{compatible:!1,errorCodes:["built-in-node-version-mismatch"]}:{compatible:!1,errorCodes:["no-node-installed-and-not-node-command"]}}return r||l?{compatible:!0}:{compatible:!1,errorCodes:["no-node-and-no-built-in-node"]}}(e,t);!s.compatible&&s.errorCodes&&r.push(...s.errorCodes)}else if("python"===e.server.type){let s=function(e,t){var s,n;if("python"!==e.server.type)return{compatible:!0};let{pythonVersion:i}=t,l=null==(n=e.compatibility)||null==(s=n.runtimes)?void 0:s.python;return i?l?(0,a.satisfies)(i,l)?{compatible:!0}:{compatible:!1,errorCodes:["python-version-mismatch"]}:{compatible:!0}:{compatible:!1,errorCodes:["no-python-installed"]}}(e,t);!s.compatible&&s.errorCodes&&r.push(...s.errorCodes)}return{compatible:0===r.length,...r.length>0&&{errorCodes:r}}}(e,t||null)}catch(e){return{compatible:!1,errorCodes:["claude-version-mismatch"]}}},d=e=>{let{manifest:t}=e,[s,n]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[r,d]=(0,i.useState)(null),c=(0,i.useCallback)(async()=>{if(!t)return void n(null);l(!0),d(null);try{let e=await o(t);n(e)}catch(e){d(e instanceof Error?e:Error("Failed to check compatibility")),n(null)}finally{l(!1)}},[t]);return(0,i.useEffect)(()=>{t?c():(n(null),l(!1),d(null))},[t,c]),{compatibility:s,isChecking:a,error:r,checkCompatibility:c}},c=(e,t)=>{var s,n;let i=[],a=(0,l.E)();if(!(null==e?void 0:e.compatibility))return i;if(e.compatibility.platforms&&e.compatibility.platforms.length>0){let s={win32:"Windows",darwin:"macOS",linux:"Linux"},n=s[r.platform]||(null==a?void 0:a.platform),l=e.compatibility.platforms.map(e=>s[e]||e).join(", "),o=!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("platform-mismatch");i.push({name:o?n:l,met:o})}if(e.compatibility.claude_desktop&&i.push({name:"Claude Desktop ".concat(e.compatibility.claude_desktop),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("claude-version-mismatch")}),"node"===e.server.type&&(null==(s=e.compatibility.runtimes)?void 0:s.node)){let s=["node-version-mismatch","no-node-installed-and-not-node-command","no-node-and-no-built-in-node","built-in-node-version-mismatch"];i.push({name:"Node.js ".concat(e.compatibility.runtimes.node),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(e=>s.includes(e))})}else if("node"===e.server.type){let e=["no-node-installed-and-not-node-command","no-node-and-no-built-in-node"];i.push({name:"Node.js",met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(t=>e.includes(t))})}if("python"===e.server.type&&(null==(n=e.compatibility.runtimes)?void 0:n.python)){let s=["python-version-mismatch","no-python-installed"];i.push({name:"Python ".concat(e.compatibility.runtimes.python),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(e=>s.includes(e))})}else"python"===e.server.type&&i.push({name:"Python",met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("no-python-installed")});return i}},8835:(e,t,s)=>{s.d(t,{i:()=>p});var n=s(54568),i=s(1761),a=s(41417),l=s(12072),r=s(60265),o=s(24871),d=s(62971),c=s(92947),u=s(32987);let m=e=>{let{onClick:t,className:s,children:i,disabled:r,...o}=e;return(0,n.jsx)(l.Tooltip,{tooltipContent:!r&&(0,n.jsx)(d.A,{defaultMessage:"Connect",id:"+vVZ/G11Zg"}),children:(0,n.jsx)(a.$,{className:(0,u.A)("!border-border-300 !rounded-lg",r?"!text-text-400":"hover:!bg-bg-200",s),disabled:r,onClick:e=>{e.stopPropagation(),null==t||t(e)},variant:"secondary",size:"icon_sm",...o,children:i})})},p=e=>{let{isDetailedView:t,handleAdd:s,handleRemove:u,handleConnect:p,handleDisconnect:x,isInstalled:f,isConnected:h,connectedByDefault:g}=e,v=(0,c.vx)(),y=(0,i.mV)();if("free"===(0,i.$b)())return t?(0,n.jsx)(a.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",href:"/upgrade?open_in_browser=1",target:"_blank",children:(0,n.jsx)(d.A,{defaultMessage:"Upgrade to connect",id:"33HAnsQE8u"})}):void 0;let b=!v&&!f;if(y&&v)if(f)return t?(0,n.jsx)(a.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",onClick:u,children:(0,n.jsx)(d.A,{defaultMessage:"Remove from your team",id:"dl4er/5ODx"})}):(0,n.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-accent-secondary-100"});else return t?(0,n.jsx)(a.$,{variant:"primary",size:"sm",className:"!rounded-lg !text-sm",onClick:s,children:(0,n.jsx)(d.A,{defaultMessage:"Add to your team",id:"Bq/DQi0LBe"})}):null;if(y&&!v)if(g)return t?(0,n.jsx)(a.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",disabled:!0,children:(0,n.jsx)(d.A,{defaultMessage:"Connected by default",id:"VqhPBBbJWk"})}):(0,n.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-text-500"});else if(h)return t?(0,n.jsx)(a.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",onClick:x,children:(0,n.jsx)(d.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})}):(0,n.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-text-500"});else return t?(0,n.jsx)(l.Tooltip,{tooltipContent:b?(0,n.jsx)(d.A,{defaultMessage:"Ask your admin to add this for your team",id:"q273cUNkwo"}):void 0,children:(0,n.jsx)("div",{children:(0,n.jsx)(a.$,{variant:"primary",size:"sm",className:"!rounded-lg !text-sm",disabled:b,onClick:p,children:(0,n.jsx)(d.A,{defaultMessage:"Connect",id:"+vVZ/G11Zg"})})})}):(0,n.jsx)(l.Tooltip,{tooltipContent:b?(0,n.jsx)(d.A,{defaultMessage:"Ask your admin to add this for your team",id:"q273cUNkwo"}):void 0,children:(0,n.jsx)("div",{children:(0,n.jsx)(m,{disabled:b,onClick:p,children:(0,n.jsx)(o.c,{size:16})})})});if(!y)if(f&&h)return t?(0,n.jsx)(a.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",onClick:u,children:(0,n.jsx)(d.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})}):(0,n.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-text-500"});else return t?(0,n.jsx)(a.$,{variant:"primary",size:"sm",className:"!rounded-lg !text-sm",onClick:f?p:s,children:(0,n.jsx)(d.A,{defaultMessage:"Connect",id:"+vVZ/G11Zg"})}):(0,n.jsx)(m,{onClick:f?p:s,children:(0,n.jsx)(o.c,{size:16})})}},11362:(e,t,s)=>{s.d(t,{O:()=>r,y:()=>o});var n=s(54568),i=s(62101),a=s(7620),l=s(3354);let r=(0,a.createContext)(void 0),o=e=>{let{children:t}=e,[s,o]=(0,a.useState)([]),[d,c]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(null),[f,h]=(0,a.useState)(!0),[g,v]=(0,a.useState)(!0),y=(0,a.useCallback)(async()=>{try{c(!0),x(null);let e=await (null===i.Fd||void 0===i.Fd?void 0:i.Fd.getInstalledExtensionsWithState());e&&o(e),m(!0)}catch(e){x(e instanceof Error?e.message:"Failed to load extensions")}finally{c(!1)}},[]),b=(0,a.useCallback)(async(e,t)=>{try{await (null===i.Fd||void 0===i.Fd?void 0:i.Fd.setExtensionSettings(e,t)),o(s=>s.map(s=>s.id===e?{...s,settings:{...s.settings,...t}}:s))}catch(e){x(e instanceof Error?e.message:"Failed to update extension settings"),await y()}},[y]),j=(0,a.useCallback)(async e=>{try{await (null===i.Fd||void 0===i.Fd?void 0:i.Fd.deleteExtension(e)),o(t=>t.filter(t=>t.id!==e))}catch(e){x(e instanceof Error?e.message:"Failed to delete extension"),await y()}},[y]);(0,a.useEffect)(()=>{y(),null===i.Fd||void 0===i.Fd||i.Fd.isDirectoryEnabled().then(h),null===i.Fd||void 0===i.Fd||i.Fd.isExtensionsEnabled().then(v);let e=null===i.Fd||void 0===i.Fd?void 0:i.Fd.onExtensionsChanged(()=>{y()}),t=null===i.Fd||void 0===i.Fd?void 0:i.Fd.onExtensionSettingsChanged((e,t)=>{o(s=>s.map(s=>s.id===e?{...s,settings:{...s.settings,...t}}:s))});return()=>{null==e||e(),null==t||t()}},[y]);let w=(0,a.useCallback)(e=>s.find(t=>t.id===e),[s]),C=(0,a.useMemo)(()=>({extensions:s,isLoading:d,hasLoadedOnce:u,error:p,isDirectoryEnabled:f,isExtensionsEnabled:g,setExtensionSettings:b,deleteExtension:j,refreshExtensions:y,getExtensionById:w,checkExtensionCompatibility:l.So}),[j,p,s,w,f,g,d,y,b,u]);return(0,n.jsx)(r.Provider,{value:C,children:t})}},11500:(e,t,s)=>{s.d(t,{h:()=>d});var n=s(54568),i=s(18472),a=s(8027),l=s(11515),r=s(34059),o=s(71857);let d=e=>{let{size:t,imageSize:s,iconUrl:d="",syncSourceType:c,name:u,className:m,type:p="favicon"}=e,x=(0,n.jsx)(a.B,{letter:u,size:s,hideBorder:!0});return(0,n.jsx)(i.O,{size:t,className:m,children:"favicon"===p?(0,n.jsx)(l.d,{fadeInOnLoad:!0,url:d,size:s,fallbackSvg:x}):"external"===p?(0,n.jsx)(o.u,{style:{maxWidth:s,maxHeight:s},className:"object-contain",width:s,height:s,src:d||"",alt:"".concat(u," icon"),fallbackSvg:x,fadeInOnLoad:!0}):"syncSource"===p&&c?(0,n.jsx)(r.A9,{type:c,size:s}):(0,n.jsx)(o.o,{style:{maxWidth:s,maxHeight:s},className:"object-contain",width:s,height:s,src:d,alt:"".concat(u," icon"),fallbackSvg:x,fadeInOnLoad:!0})})}},42067:(e,t,s)=>{s.d(t,{l:()=>c,z:()=>m});var n=s(54568),i=s(52198),a=s(615),l=s(32987),r=s(7620),o=s(41417);let d=(0,a.F)("flex\n  w-fit\n  rounded-lg\n  p-2\n  px-4\n  gap-1\n  items-center\n  text-sm\n  border-0.5\n  border-border-200\n",{variants:{variant:{main:"text-accent-main-000 bg-bg-300",secondary:"text-accent-secondary-000 bg-bg-300",pro:"text-accent-pro-000 border-accent-pro-100 bg-accent-pro-900",danger:"text-danger-000 border-danger-100 bg-danger-900"}},defaultVariants:{variant:"main"}});function c(e){let{icon:t,iconClassName:s,message:a,customButton:c,cta:m,ctaHref:p,onCtaClick:x,onClose:f,variant:h,className:g,messageClassName:v}=e,y=t?(0,n.jsx)("div",{className:(0,l.A)("flex mr-2 shrink-0",s),children:r.createElement(t,{size:20})}):null,b=null;return f&&(b=(0,n.jsx)(o.$,{size:"icon_sm",variant:"ghost",onClick:f,children:(0,n.jsx)(i.X,{size:16})})),b=b?(0,n.jsx)("div",{children:b}):null,(0,n.jsxs)("div",{className:(0,l.A)(d({variant:h}),!!f&&"pr-2",g),children:[y,(0,n.jsx)("div",{className:(0,l.A)("grow leading-relaxed","danger"!==h&&"pro"!==h&&"text-text-000","danger"===h&&"text-danger-000","pro"===h&&"text-accent-pro-000",v),children:a}),(0,n.jsx)(u,{customButton:c,cta:m,ctaHref:p,onCtaClick:x,variant:"pro"===h?"flat":function(e){switch(e){case"main":return"primary";case"danger":return"danger";case"secondary":case"pro":return"outline"}}(h),className:(0,l.A)("pro"===h&&"!bg-accent-pro-100 border-accent-pro-100 hover:border-accent-pro-200 hover:bg-accent-pro-900"),size:"sm"}),b]})}function u(e){let{customButton:t,cta:s,ctaHref:i,onCtaClick:a,...l}=e,r=t;return!r&&s&&(i?r=(0,n.jsx)(o.$,{size:"default",...l,href:i,children:s}):a&&(r=(0,n.jsx)(o.$,{size:"default",...l,onClick:a,children:s}))),r?(0,n.jsx)("div",{className:"ml-2",children:r}):null}let m=e=>{let{className:t,children:s}=e;return(0,n.jsxs)("div",{className:(0,l.A)("border-border-300 bg-bg-300 mt-3 flex gap-2 rounded-lg border px-3 py-3",t),children:[(0,n.jsx)("div",{children:(0,n.jsx)(i.R2,{size:20,className:"text-accent-main-100"})}),(0,n.jsx)("p",{className:"text-text-100 text-sm tracking-tighter",children:s})]})}},43793:(e,t,s)=>{s.d(t,{X:()=>c});var n=s(54568),i=s(69916),a=s(41417),l=s(62101),r=s(7620),o=s(46760),d=s(62971);let c=e=>{let{extension:t,size:s="normal",style:c}=e,u=(0,o.A)(),{addError:m}=(0,i.Y)(),[p,x]=(0,r.useState)(null),[f,h]=(0,r.useState)(!0),[g,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!t.id)return h(!1);try{let e=await (null===l.Fd||void 0===l.Fd?void 0:l.Fd.getIsUpdateAvailable(t.id,t.manifest))||null;x(e)}catch(e){m((0,n.jsx)(d.A,{defaultMessage:"Failed to check for extension updates",id:"qmTCOIrDRY",description:"Error message when checking for extension updates fails"}),{error:e})}finally{h(!1)}})()},[t,m]);let y=async()=>{if(t.id&&p){v(!0);try{await (null===l.Fd||void 0===l.Fd?void 0:l.Fd.installDxtFromDirectory(t.id,p))}catch(e){m((0,n.jsx)(d.A,{defaultMessage:"Failed to update extension",id:"II6Ozv49Lo",description:"Error message when extension update fails"}),{error:e})}finally{v(!1)}}};if(f||!p)return null;let b=u.formatMessage({defaultMessage:"Update available to v{version}. You are currently on v{currentVersion}.",id:"2Fd2dxtEBo",description:"Title for extension update button"},{version:p,currentVersion:t.manifest.version});return(0,n.jsx)(a.$,{variant:"primary",disabled:g,onClick:y,title:b,style:c,children:g?u.formatMessage({defaultMessage:"Updating...",id:"yugrR4jIsZ",description:"Button text while updating extension"}):"small"===s?u.formatMessage({defaultMessage:"Update",id:"rQoNAJyEVw",description:"Button to update extension (short version)"}):u.formatMessage({defaultMessage:"Update to {version}",id:"Wur112HVmK",description:"Button to update extension to specific version"},{version:p})})}},47838:(e,t,s)=>{s.d(t,{k:()=>l});var n=s(54568);s(7620);var i=s(8835),a=s(88185);let l=e=>{let{isDetailedView:t,directoryServer:s,handleAddRemoteServer:l,handleRemoveRemoteServer:r,handleConnectRemoteServer:o,handleDisconnectRemoteServer:d}=e,{getCorrespondingInstalledServer:c}=(0,a.Y5)(),u="remote"===s.type?c(s):null,m=!!u,p=!!(null==u?void 0:u.isConnected),x=!!u&&p&&!u.usedAuthentication;return(0,n.jsx)(i.i,{handleAdd:()=>l(s.uuid),handleRemove:()=>r(s.uuid),handleConnect:()=>o(s.uuid),handleDisconnect:()=>d(s.uuid),isInstalled:m,isConnected:p,isDetailedView:t,connectedByDefault:x})}},48700:(e,t,s)=>{s.d(t,{S:()=>x});var n=s(54568),i=s(69916),a=s(15046),l=s(41417),r=s(62101),o=s(14985),d=s(76761),c=s(24871),u=s(7620),m=s(46760),p=s(62971);let x=e=>{let{manifest:t,settings:s,onSave:x,onCancel:f,className:h}=e,g=(0,m.A)(),{addError:v}=(0,i.Y)(),[y,b]=(0,u.useState)({}),[j,w]=(0,u.useState)(!1),[C,N]=(0,u.useState)(!1),[k,M]=(0,u.useState)(!1);if((0,u.useEffect)(()=>{if(s.userConfig)b(s.userConfig);else if(t.user_config){let e={};for(let[s,n]of Object.entries(t.user_config))void 0!==n.default&&(e[s]=n.default);b(e)}},[t.user_config,s.userConfig]),!t.user_config)return null;let z=(e,t)=>{b(s=>({...s,[e]:t})),w(!0)},F=async()=>{N(!0);try{await x(y),w(!1),M(!0),setTimeout(()=>{M(!1)},1e4)}catch(e){v((0,n.jsx)(p.A,{defaultMessage:"Failed to save configuration",id:"k3HNr+oyR6",description:"Error message when extension configuration save fails"}),{error:e})}finally{N(!1)}};return(0,n.jsx)("div",{className:h,children:(0,n.jsxs)("div",{className:"break-inside-avoid",children:[Object.entries(t.user_config).map(e=>{let[t,s]=e;return(0,n.jsx)("div",{className:"mb-5",children:(0,n.jsxs)("label",{children:[(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:"text-md",children:s.title}),s.required&&(0,n.jsx)("span",{className:"text-text-400 ml-1",children:(0,n.jsx)(p.A,{defaultMessage:"(Required)",id:"5Q3Kor4lDg",description:"Label indicating a configuration field is required"})})]}),s.description&&"boolean"!==s.type&&(0,n.jsx)("p",{className:"text-xs text-text-400 mt-2 mb-3",children:s.description}),(0,n.jsx)("div",{className:"mb-2 mt-2",children:((e,t)=>{let s=y[e],i="w-full px-3 py-2 border border-border-300/25 rounded-md text-sm text-text-100 bg-bg-100";switch(t.type){case"string":return(0,n.jsx)("input",{type:t.sensitive?"password":"text",value:s||"",onChange:t=>z(e,t.target.value),placeholder:t.description,className:i});case"number":return(0,n.jsx)("input",{type:"number",value:s||"",onChange:t=>z(e,t.target.value?Number(t.target.value):""),min:t.min,max:t.max,placeholder:t.description,className:i});case"boolean":return(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(a.j,{checked:s||!1,onChange:t=>z(e,t.target.checked)}),(0,n.jsx)("span",{className:"text-sm text-text-300",children:t.description})]});case"directory":case"file":if(!t.multiple)return(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("input",{type:"text",value:s||"",onChange:t=>z(e,t.target.value),placeholder:g.formatMessage({defaultMessage:"{type} path",id:"p8XbPZF2o4",description:"Placeholder for directory or file path input"},{type:"directory"===t.type?"Directory":"File"}),className:"".concat(i," flex-1 w-auto")}),(0,n.jsx)(l.$,{variant:"secondary",onClick:async()=>{let s="directory"===t.type?await (null===r.un||void 0===r.un?void 0:r.un.getDirectoryPath(!1)):await (null===r.un||void 0===r.un?void 0:r.un.getFilePath(!1));s&&z(e,s[0])},className:"px-3 py-1.5",children:g.formatMessage({defaultMessage:"Browse",id:"0TPgIp3K/q",description:"Button to browse for file/directory"})})]});{let a=s||[];return(0,n.jsxs)("div",{children:[a.map((s,c)=>(0,n.jsxs)("div",{className:"flex gap-2 mb-2 items-center",children:[(0,n.jsx)("input",{type:"text",value:s,onChange:t=>{let s=[...a];s[c]=t.target.value,z(e,s)},placeholder:g.formatMessage({defaultMessage:"{type} path",id:"p8XbPZF2o4",description:"Placeholder for directory or file path input"},{type:"directory"===t.type?"Directory":"File"}),className:"".concat(i," flex-1 w-auto")}),(0,n.jsx)(l.$,{variant:"ghost",size:"icon",onClick:async()=>{let s="directory"===t.type?await (null===r.un||void 0===r.un?void 0:r.un.getDirectoryPath(!1)):await (null===r.un||void 0===r.un?void 0:r.un.getFilePath(!1));if(s){let t=[...a];t[c]=s[0],z(e,t)}},children:(0,n.jsx)(o.sj,{})}),(0,n.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>{z(e,a.filter((e,t)=>t!==c))},children:(0,n.jsx)(d.u,{})})]},c)),(0,n.jsxs)(l.$,{variant:"secondary",onClick:()=>{z(e,[...a,""])},className:"mt-2",children:[(0,n.jsx)(c.c,{className:"mr-1.5",size:16}),g.formatMessage({defaultMessage:"Add {type}",id:"1ddlPuxY71",description:"Button to add a new path"},{type:t.type})]})]})}default:return null}})(t,s)})]})},t)}),(0,n.jsxs)("div",{className:"flex gap-3 mt-6 justify-between items-center",children:[f&&(0,n.jsx)(l.$,{variant:"secondary",onClick:f,disabled:C,children:g.formatMessage({defaultMessage:"Cancel",id:"zVjtFM8JfM",description:"Button to cancel configuration edit"})}),k&&(0,n.jsx)("span",{className:"text-sm text-accent-secondary-100",children:g.formatMessage({defaultMessage:"Changes saved",id:"jdKVJo/vQ6",description:"Message shown after configuration is saved"})}),!k&&(0,n.jsx)("div",{}),(0,n.jsx)(l.$,{variant:"primary",onClick:F,disabled:!j||C,children:g.formatMessage({defaultMessage:"Save",id:"NuymVHsb1A",description:"Button to save configuration"})})]})]})})}},50953:(e,t,s)=>{s.d(t,{u:()=>$});var n=s(54568),i=s(42067),a=s(41417),l=s(64359),r=s(9786),o=s(64786),d=s(90119),c=s(4705),u=s(58911),m=s(32987),p=s(27261),x=s.n(p),f=s(7620),h=s(62971),g=s(46760),v=s(92947),y=s(69055),b=s(60265),j=s(3354);let w=e=>{let{manifest:t}=e,{compatibility:s,isChecking:i}=(0,j.wH)({manifest:t}),a=(0,j.yo)(t,s);return t&&0!==a.length?(0,n.jsxs)("div",{className:"py-7 border-b-0.5 border-border-300",children:[(0,n.jsx)("h4",{className:"text-sm font-medium mb-2",children:(0,n.jsx)(h.A,{defaultMessage:"Requirements",id:"T/GrW3GRjO",description:"Extension requirements section header"})}),i?(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-text-300",children:[(0,n.jsx)(y.E,{size:16,className:"animate-spin"}),(0,n.jsx)(h.A,{defaultMessage:"Checking requirements...",id:"B3WNGMnvjq",description:"Loading state while checking extension requirements"})]}):(null==s?void 0:s.compatible)?(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-success-600",children:[(0,n.jsx)(b.S,{size:16,weight:"bold"}),(0,n.jsx)(h.A,{defaultMessage:"All requirements met",id:"aTEJ6YhqYE",description:"Success message when all extension requirements are satisfied"})]}):(0,n.jsx)("div",{className:"space-y-2",children:a.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm ".concat(e.met?"text-success-600":"text-warning-600"),children:[e.met?(0,n.jsx)(b.S,{size:16,weight:"bold"}):(0,n.jsx)(c.i,{size:16,weight:"bold"}),(0,n.jsx)("span",{children:e.name})]},t))}),!(null==s?void 0:s.compatible)&&(0,n.jsx)("div",{className:"mt-3 p-3 bg-warning-50 dark:bg-warning-950 rounded-lg",children:(0,n.jsx)("p",{className:"text-sm text-warning-800 dark:text-warning-200",children:(0,n.jsx)(h.A,{defaultMessage:"This extension may not work correctly until all requirements are met.",id:"6EFoZgFJFB",description:"Warning message when extension requirements are not met"})})})]}):null};var C=s(70497);let N=e=>{let{markdown:t,className:s=""}=e;return t?(0,n.jsx)("div",{className:"".concat(s," [&_ul]:list-disc [&_ul]:pl-6 [&_ul]:my-2 [&_ol]:list-decimal [&_ol]:pl-6 [&_ol]:my-2 [&_li]:my-1 [&_p]:my-3 [&_p:first-child]:mt-0"),children:(0,n.jsx)(C.o,{className:"whitespace-pre-wrap",allowedElements:["p","br","strong","em","ul","ol","li","a","code","pre","h1","h2","h3","h4","h5","h6","blockquote"],components:{a:e=>{let{href:t,children:s}=e;if(!t||!t.startsWith("https://"))return(0,n.jsx)("span",{children:s});let i=String(s);return i===t||t.includes(i.replace(/\s/g,""))?(0,n.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-accent-secondary-100 hover:underline",children:s}):(0,n.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-accent-secondary-100 hover:underline",children:[s," (",new URL(t).hostname,")"]})}},children:t})}):null};var k=s(874),M=s(11500),z=s(97301),F=s(15046),A=s(37711),S=s(62101),E=s(43172),_=s(58070),D=s(37463),P=s(62942),I=s(40847),T=s.n(I),O=s(43793),q=s(37076),L=s(48700);let V=e=>{let{isOpen:t,onClose:s,extension:i,server:a}=e,l=!i||(0,E.OO)({manifest:i.manifest,userConfig:i.settings.userConfig}),r=(0,f.useCallback)(()=>{l||s()},[l,s]),o=(0,f.useCallback)(async e=>{if(!i)return;let t={...i.settings,userConfig:e};await (null===S.Fd||void 0===S.Fd?void 0:S.Fd.setExtensionSettings(i.id,t)),(0,E.OO)({manifest:i.manifest,userConfig:e})||s()},[i,s]);return i&&t&&a?(0,n.jsx)(q.aF,{isOpen:t,onClose:r,modalSize:"lg",title:(0,n.jsxs)("div",{className:"font-ui inline-flex flex-row gap-2 items-center text-xl",children:[(0,n.jsx)(h.A,{defaultMessage:"Configure",id:"9t1iivhk67"}),(0,n.jsxs)("div",{className:"inline-flex flex-row gap-1 items-center",children:[(0,n.jsx)(M.h,{size:30,imageSize:20,iconUrl:a.iconUrl,name:a.name,type:"external"}),(0,n.jsxs)("span",{className:"font-normal",children:[" ",a.name]})]})]}),children:(0,n.jsx)(L.S,{manifest:i.manifest,settings:i.settings,onSave:async e=>{await o(e)},onCancel:s})}):null},B=e=>{let{directoryServer:t}=e,s=(0,g.A)(),{extensions:i}=(0,k.O)(),l=(0,P.useRouter)(),r=i.find(e=>e.id===t.uuid),[o,d]=(0,f.useState)(!1),c=(0,f.useCallback)(()=>{r&&l.push("/settings/desktop/extensions/".concat(r.id))},[l,r]),u=(0,k.U)(),m=(0,_.Z)(t.uuid),p=(0,_.Z)(r);(0,f.useEffect)(()=>{m===t.uuid&&!p&&r&&(0,E.OO)({manifest:r.manifest,userConfig:r.settings.userConfig})&&d(!0)},[t.uuid,p,m,r]);let[x,v]=(0,f.useState)(null);if((0,f.useEffect)(()=>{null===S.Fd||void 0===S.Fd||S.Fd.onExtensionDownloadProgress((e,s,n,i)=>{e===t.uuid&&v({progress:s,rBytes:n,tBytes:i})})},[t.uuid]),(0,f.useEffect)(()=>{v(null)},[t.uuid]),(0,f.useEffect)(()=>{r&&x&&v(null)},[x,r]),!r&&null!==x){let e=s.formatMessage({defaultMessage:"Installing...",id:"r9ELLACQn2"});return(0,n.jsx)(D.P.div,{initial:{height:0},animate:{height:"auto"},className:"overflow-hidden",children:(0,n.jsx)("div",{className:"flex items-center justify-between bg-bg-300 rounded-lg px-4 py-3 gap-4 mt-4",children:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[x.tBytes?(0,n.jsx)("span",{className:"font-medium text-text-300 text-sm",children:e}):(0,n.jsx)(A.A,{className:"text-sm",children:e}),x.tBytes?(0,n.jsxs)("span",{className:"text-text-500 text-sm",children:[T()(x.rBytes,{maximumFractionDigits:1,locale:s.locale})," / ",T()(x.tBytes,{maximumFractionDigits:1,locale:s.locale})]}):null]}),(0,n.jsx)("div",{className:"bg-bg-500 w-full h-2 rounded-full p-0.5 overflow-hidden",children:(0,n.jsx)("div",{className:"bg-accent-secondary-200 h-full rounded-full transition-width duration-500",style:{width:"".concat(x.progress,"%")}})})]})})})}return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between bg-bg-300 rounded-lg px-4 py-3 gap-4 mt-4",children:[(0,n.jsx)("div",{className:"flex items-center gap-3",children:!r.settings.isEnabled&&(0,E.OO)({manifest:r.manifest,userConfig:r.settings.userConfig})?(0,n.jsx)("span",{className:"text-sm text-accent-secondary-100",children:s.formatMessage({defaultMessage:"This connector needs to be configured before it can be enabled.",id:"IhPSab4yuz",description:"Message shown when required config is missing"})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"inline-block",onClick:()=>{u(r.id)},children:(0,n.jsx)(F.j,{checked:r.settings.isEnabled,readOnly:!0})}),(0,n.jsx)("span",{className:"text-sm font-medium",children:r.settings.isEnabled?s.formatMessage({defaultMessage:"Enabled",id:"cnxLJKBabd",description:"Extension enabled status"}):s.formatMessage({defaultMessage:"Disabled",id:"4PQSGeQCas",description:"Extension disabled status"})})]})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(O.X,{extension:r}),(0,n.jsx)(a.$,{variant:"secondary",size:"sm",onClick:c,children:(0,n.jsx)(h.A,{defaultMessage:"Configure",id:"9t1iivhk67"})})]})]}),(0,n.jsx)(V,{isOpen:o,extension:r||null,server:t,onClose:()=>{d(!1)}})]}):null};var R=s(69517),U=s(47838),G=s(88185);let $=e=>{let{directoryServer:t,...s}=e,i=(0,d.V)();return(0,n.jsxs)(l.r,{containerClassName:"max-h-full min-h-0 px-4 -mx-4",className:"max-h-full px-4 -mx-4 pb-10",children:[(0,n.jsx)(H,{directoryServer:t,...s}),"local"===t.type&&(0,n.jsx)(B,{directoryServer:t}),(0,n.jsx)(W,{directoryServer:t}),"local"===t.type&&i?(0,n.jsx)(w,{manifest:t.manifest}):null,(0,n.jsx)(Y,{directoryServer:t})]})},H=e=>{let{directoryServer:t,...s}=e,l=(0,d.V)(),{isDirectoryEnabled:r}=(0,k.O)(),{iconUrl:o,name:u,oneLiner:m}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex sm:flex-row flex-col gap-y-6 gap-x-4 mt-[1.125rem]",children:[(0,n.jsxs)("div",{className:"flex flex-row no-wrap gap-4 grow",children:[(0,n.jsx)(M.h,{size:60,imageSize:34,iconUrl:o,syncSourceType:"firstParty"===t.type?t.syncSourceType:void 0,name:u,type:"local"===t.type?"external":"firstParty"===t.type?"syncSource":"favicon"}),(0,n.jsxs)("div",{className:"flex flex-col font-ui grow sm:mt-1",children:[(0,n.jsx)("p",{className:"text-text-100 text-2xl font-medium",children:u}),(0,n.jsx)("p",{className:"font-base text-text-400 leading-normal",children:m})]})]}),(0,n.jsx)("div",{className:"flex items-center",children:"remote"===t.type?(0,n.jsx)(U.k,{isDetailedView:!0,directoryServer:t,...s}):"firstParty"===t.type?(0,n.jsx)(z.N,{isDetailedView:!0,directoryServer:t,...s}):(0,n.jsx)(R.H,{isDetailedView:!0,directoryServer:t})})]}),"local"!==t.type||l?null:(0,n.jsx)(i.l,{variant:"secondary",className:"mt-6 w-full",message:(0,n.jsx)(h.A,{defaultMessage:"Get Claude for Desktop to use this extension",id:"pJ3vQABZxc"}),customButton:(0,n.jsx)(a.$,{href:"https://claude.ai/download",target:"_blank",children:(0,n.jsx)(h.A,{defaultMessage:"Download",id:"5q3qC0sC3r"})})}),"local"===t.type&&t.onDiskPath?(0,n.jsx)(i.l,{variant:"danger",className:"mt-6 w-full",message:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"font-large-bold",children:(0,n.jsx)(h.A,{defaultMessage:"Only install extensions from developers you trust.",id:"J1DujH3Us6"})}),(0,n.jsx)("span",{children:(0,n.jsx)(h.A,{defaultMessage:"Installing will grant access to everything on your computer.",id:"V/YZmv6ycC"})})]}),icon:c.i}):null,"local"!==t.type||r?null:(0,n.jsx)(i.l,{variant:"secondary",className:"mt-6 w-full",message:(0,n.jsx)(h.A,{defaultMessage:"The Extensions Directory has been disabled on this device. Please contact your IT administrator for more information.",id:"uOwKLoFioe",description:"Message shown when viewing a local extension but the directory is disabled"})})]})},W=e=>{let{directoryServer:t}=e,s=(0,g.A)(),i=(0,v.vx)(),{getCorrespondingInstalledServer:a}=(0,G.Y5)(),l=(0,d.V)(),r=(0,d.V)(o.Wq),c="remote"===t.type&&!!a(t),u="remote"===t.type&&!i&&!c,{description:p,toolNames:x,promptNames:f,author:y}=t;return(0,n.jsxs)("div",{className:"flex flex-col gap-7 py-7 border-b-0.5 border-border-300",children:[!!u&&(0,n.jsx)(Z,{children:(0,n.jsx)(h.A,{defaultMessage:"Ask your admin to add this for your team.",id:"Pf4A5vNvrs"})}),"local"===t.type&&l&&!r&&(0,n.jsx)(Z,{children:(0,n.jsx)(h.A,{defaultMessage:"To install this extension, update to the latest version of Claude Desktop",id:"B9KzONSVUz",description:"update claude for desktop prompt to install desktop extensions"})}),(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[!!(null==y?void 0:y.name)&&(0,n.jsx)("p",{className:"text-text-300 text-base",children:(0,n.jsx)(h.A,{defaultMessage:"Developed by <a></a>",id:"4MPJbn/XP2",values:{a:()=>(null==y?void 0:y.url)?(0,n.jsx)(es,{name:y.name,url:y.url}):y.name}})}),!!p&&(0,n.jsx)(N,{className:"text-text-300 text-base",markdown:p})]}),!!(x.length||f.length)&&(0,n.jsxs)("div",{className:(0,m.A)("grid gap-y-8 gap-x-4",x.length&&f.length?"grid-cols-1 sm:grid-cols-2":"grid-cols-1"),children:[!!x.length&&(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(K,{title:s.formatMessage({defaultMessage:"Tools",id:"nUT0LvZVOx"}),count:x.length}),(0,n.jsx)(J,{items:x})]}),!!f.length&&(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(K,{title:s.formatMessage({defaultMessage:"Prompts",id:"p7buKPIFPB"}),count:f.length}),(0,n.jsx)(J,{items:f})]})]})]})},Z=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"bg-bg-300 rounded-lg p-4 text-text-100 text-sm px-4 py-3",children:t})},Y=e=>{let{directoryServer:t}=e,{didCopy:s,copyToClipboard:i}=(0,r.C)(),l=(0,g.A)(),{version:o,license:d,author:c,documentation:u,support:m,privacyPolicy:p}=t,x="remote"===t.type?t.url:null,f=[...u?[{name:l.formatMessage({defaultMessage:"Documentation",id:"isGKnzG5uL"}),url:u}]:[],...m?[{name:l.formatMessage({defaultMessage:"Support",id:"HqRNN8pEq/"}),url:m}]:[],...p?[{name:l.formatMessage({defaultMessage:"Privacy Policy",id:"vx0nkZ8xpy"}),url:p}]:[]];return(0,n.jsxs)("div",{className:"flex flex-col gap-4 py-7",children:[(0,n.jsx)(X,{children:(0,n.jsx)(h.A,{defaultMessage:"Details",id:"Lv0zJuL1jH"})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[!!o&&(0,n.jsx)(et,{subheading:l.formatMessage({defaultMessage:"Version",id:"I3b4hnFnDd"}),children:o}),!!d&&(0,n.jsx)(et,{subheading:l.formatMessage({defaultMessage:"License",id:"HBxXD/YXNW"}),children:d}),!!(null==c?void 0:c.name)&&(0,n.jsx)(et,{subheading:l.formatMessage({defaultMessage:"Author",id:"tWkQ2JF/jQ"}),children:c.url?(0,n.jsx)(es,{name:c.name,url:c.url}):c.name}),!!x&&(0,n.jsx)(et,{subheading:l.formatMessage({defaultMessage:"Connector URL",id:"CV2vjsP6Ub"}),children:(0,n.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[x,(0,n.jsx)(a.$,{size:"icon_sm",variant:"ghost",className:"bg-bg-100 hover:opacity-100 -my-2",onClick:()=>void i(x),children:(0,n.jsx)(r.u,{didCopy:s})})]})}),!!f.length&&(0,n.jsx)(et,{subheading:l.formatMessage({defaultMessage:"More info",id:"HOsSgXORHL"}),children:f.map(e=>(0,n.jsx)(es,{name:e.name,url:e.url},e.name))})]})]})},J=e=>{var t,s;let{items:i}=e,a=f.useRef(null),l=f.useRef(null),[r,o]=(0,f.useState)(!1),[d,c]=(0,f.useState)(((null==(t=l.current)?void 0:t.offsetHeight)||0)>((null==(s=a.current)?void 0:s.offsetHeight)||0));return(0,f.useEffect)(()=>{var e,t;c(((null==(e=l.current)?void 0:e.offsetHeight)||0)>((null==(t=a.current)?void 0:t.offsetHeight)||0))},[i]),(0,n.jsxs)("div",{className:"flex flex-col gap-2.5 items-start",children:[(0,n.jsx)("div",{ref:a,className:(0,m.A)("w-full",!r&&"max-h-[6.5rem] overflow-hidden"),children:(0,n.jsx)("div",{ref:l,className:(0,m.A)("flex flex-row gap-2.5 flex-wrap"),children:i.map(e=>(0,n.jsx)(Q,{children:e},e))})}),d&&!r&&(0,n.jsx)("button",{className:"text-text-300 hover:text-text-200 opacity-50 text-sm",onClick:()=>o(!0),children:(0,n.jsx)(h.A,{defaultMessage:"View all",id:"pFK6bJU0EM"})})]})},Q=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"inline-flex items-center h-7 rounded-full px-3 bg-bg-300 border-border-300 border-0.5 min-w-0",children:(0,n.jsx)("p",{className:"text-text-300 text-sm overflow-hidden text-ellipsis",children:t})})},K=e=>{let{count:t,title:s}=e;return(0,n.jsxs)("div",{className:"flex flex-row items-center gap-2 mb-0.5",children:[(0,n.jsx)(X,{children:s}),(0,n.jsx)("div",{className:"flex items-center rounded text-[0.8125rem] text-text-500 h-[1.125rem] px-[0.3125rem] bg-bg-300",children:t})]})},X=e=>{let{children:t}=e;return(0,n.jsx)("h3",{className:"text-text-100 font-medium text-base",children:t})},ee=e=>{let{children:t}=e;return(0,n.jsx)("h3",{className:"text-text-300 font-medium text-sm mb-0.5",children:t})},et=e=>{let{subheading:t,children:s}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)(ee,{children:t}),(0,n.jsx)("div",{className:"flex flex-col gap-1 text-text-300 text-sm",children:s})]})},es=e=>{let{name:t,url:s}=e;return(0,n.jsxs)(x(),{href:s,target:"_blank",className:"inline-flex items-center gap-1 text-accent-secondary-200 hover:text-accent-secondary-100",children:[t,(0,n.jsx)(u.k,{size:16})]})}},55323:(e,t,s)=>{s.d(t,{E:()=>n});function n(){var e,t;if(!(null==(t=window.process)||null==(e=t.versions)?void 0:e.electron))return null;let s=window.process;return{type:s.type||"",arch:s.arch||"",platform:s.platform||"",versions:s.versions||{},isAppPackaged:"true"===s.isAppPackaged,version:s.version||"",isInternalBuild:"true"===s.isInternalBuild}}},62101:(e,t,s)=>{var n,i,a,l,r,o,d,c,u;s.d(t,{Fd:()=>h,TQ:()=>f,W$:()=>v,YQ:()=>p,a8:()=>x,lX:()=>y,oO:()=>m,un:()=>g});let m=null==(n=globalThis["claude.settings"])?void 0:n.AppConfig,p=null==(i=globalThis["claude.settings"])?void 0:i.Startup,x=null==(a=globalThis["claude.settings"])?void 0:a.GlobalShortcut,f=null==(l=globalThis["claude.settings"])?void 0:l.MCP,h=null==(r=globalThis["claude.settings"])?void 0:r.Extensions,g=null==(o=globalThis["claude.settings"])?void 0:o.FilePickers;null==(d=globalThis["claude.settings"])||d.Misc;let v=null==(c=globalThis["claude.settings"])?void 0:c.AppPreferences,y=null==(u=globalThis["claude.settings"])?void 0:u.AppFeatures},69517:(e,t,s)=>{s.d(t,{H:()=>b});var n=s(54568),i=s(64786),a=s(90119),l=s(60265),r=s(7620),o=s(874),d=s(98518),c=s(41417),u=s(1385),m=s(12072),p=s(62101),x=s(32987),f=s(46760),h=s(62971),g=s(3354),v=s(55323);let y=e=>{let{directoryServer:t}=e,s=(0,f.A)(),{track:i}=(0,d.st)(),[{installed:a,progress:l},o]=(0,r.useState)({installed:null,progress:null}),{compatibility:y}=(0,g.wH)({manifest:t.manifest}),b=(null==y?void 0:y.compatible)===!1,j=(0,g.yo)(t.manifest,y).filter(e=>!e.met);(0,r.useEffect)(()=>{null===p.Fd||void 0===p.Fd||p.Fd.onExtensionDownloadProgress((e,s)=>{e===t.uuid&&o({installed:!1,progress:s})})},[t.uuid]),(0,r.useEffect)(()=>{o({installed:null,progress:null});let e=()=>{null===p.Fd||void 0===p.Fd||p.Fd.getInstalledExtensionsWithState().then(e=>{let s=e.some(e=>e.id===t.uuid);o(e=>({installed:s,progress:s?null:e.progress}))})};return e(),null===p.Fd||void 0===p.Fd?void 0:p.Fd.onExtensionsChanged(e)},[t.uuid]);let w=(0,r.useCallback)(async()=>{if(a)null===p.Fd||void 0===p.Fd||p.Fd.deleteExtension(t.uuid),o({installed:null,progress:null});else{var e,s,n;t.onDiskPath?(null===p.Fd||void 0===p.Fd||p.Fd.installExtensionFromPreview(t.uuid,t.onDiskPath),o({installed:null,progress:null})):null===p.Fd||void 0===p.Fd||p.Fd.installDxtFromDirectory(t.uuid,null);let a=await (null===p.Fd||void 0===p.Fd?void 0:p.Fd.getInstalledExtensionsWithState()),l=(null!=(n=null==a?void 0:a.length)?n:0)+1,r=(0,v.E)();i({event_key:"desktop_dxt_installed",extension_name:t.name,extension_author:(null==(e=t.author)?void 0:e.name)||"",extension_id:t.uuid,event_source:t.onDiskPath?"local_file":"directory",total_extensions_installed:l,app_version:(null==r?void 0:r.version)||"",extension_version:(null==(s=t.manifest)?void 0:s.version)||""})}},[t,a,i]);if(!1===a&&null!==l)return null;let C=null===a,N=(0,n.jsx)(c.$,{variant:"primary",size:"unset",className:(0,x.A)("!rounded-lg !text-sm relative h-8 rounded-md px-3 active:scale-[0.985] whitespace-nowrap !text-xs transition-[min-width] duration-200",null!==l&&"min-w-[8rem] bg-primary disabled:opacity-100","min-w-[6rem]"),onClick:w,disabled:null!==l||null===a||b,children:a?(0,n.jsx)(h.A,{defaultMessage:"Uninstall",id:"a8npXIgle+"}):C?(0,n.jsx)(u.j,{width:60,height:12}):(0,n.jsx)(h.A,{defaultMessage:"Install",id:"ubmFc8rrea"})});if(b&&!a){let e;if(0===j.length)e=s.formatMessage({defaultMessage:"This extension is not compatible with your device.",id:"DyWnSo/uD3"});else if(1===j.length)e=s.formatMessage({defaultMessage:"This extension requires {requirement}.",id:"RWZ5Obf4In"},{requirement:j[0].name});else{let t=j.map(e=>e.name).join(", ");e=s.formatMessage({defaultMessage:"This extension requires: {requirements}.",id:"Tiuglra9gk"},{requirements:t})}return(0,n.jsx)(m.Tooltip,{tooltipContent:e,children:(0,n.jsx)("span",{className:"inline-block",children:N})})}return N},b=e=>{let{isDetailedView:t,directoryServer:s}=e,r=(0,a.V)(i.Wq),{extensions:d,isDirectoryEnabled:c}=(0,o.O)(),u=d.some(e=>e.id===s.uuid);if(t)if(r&&c)return(0,n.jsx)(y,{directoryServer:s});else return null;return u?(0,n.jsx)(l.S,{size:16,className:"transition-opacity m-2 text-accent-secondary-100"}):null}},88185:(e,t,s)=>{s.d(t,{K8:()=>y,$F:()=>b,Dx:()=>C,Y5:()=>w,hW:()=>k,Ox:()=>M,c7:()=>N,kV:()=>v});var n=s(98518),i=s(77186),a=s(1761),l=s(27062),r=s(77101),o=s(62942),d=s(7620),c=s(45270),u=s(62370),m=s(43172),p=s(75006);let x=p.z.object({field:p.z.enum(["custom_oauth_client_id","custom_oauth_client_secret","url"]),sourceUrl:p.z.string()}),f=p.z.object({uuid:p.z.string(),name:p.z.string(),oneLiner:p.z.string(),description:p.z.string(),iconUrl:p.z.string().optional(),toolNames:p.z.array(p.z.string()),promptNames:p.z.array(p.z.string()),license:p.z.string().optional(),version:p.z.string().optional(),author:p.z.object({name:p.z.string().optional(),url:p.z.string().optional()}).optional(),documentation:p.z.string().optional(),support:p.z.string().optional(),privacyPolicy:p.z.string().optional(),requiredFields:p.z.array(x).optional()});f.and(p.z.object({type:p.z.enum(["firstParty"]),syncSourceType:p.z.enum([r.v8.GDRIVE,r.v8.GMAIL,r.v8.GCAL,r.v8.SLACK])}));let h=f.and(p.z.object({type:p.z.enum(["remote"]),isAuthless:p.z.boolean()}).and(p.z.union([p.z.object({url:p.z.string(),urlRegex:p.z.undefined()}),p.z.object({url:p.z.undefined(),urlRegex:p.z.string()})])));f.and(p.z.object({type:p.z.enum(["local"]),manifest:m.PX,onDiskPath:p.z.string().optional(),downloadCount:p.z.number().optional(),lifetimeDownloadCount:p.z.number().optional(),isBlocklisted:p.z.boolean().optional(),isInternal:p.z.boolean().optional()}));let g=p.z.array(h),v=e=>{let{isOpen:t,selectedServerId:s}=e,i=(0,d.useRef)(!1),{track:a}=(0,n.st)();(0,d.useEffect)(()=>{t&&(!i.current||s)&&(i.current=!0,a({event_key:"claudeai.mcp.directory.page_view",directory_server_id:s}))},[t,s,a])},y=e=>{let{openModal:t}=e,s=(0,o.useSearchParams)(),n=s.get("directory-open"),i=s.get("directory-uuid");(0,d.useEffect)(()=>{if(n){try{let e=new URL(window.location.href);e.searchParams.delete("directory-open"),e.searchParams.delete("directory-uuid"),window.history.replaceState(null,"",e.pathname+e.search+e.hash)}catch(e){window.history.replaceState(null,"",window.location.pathname+window.location.hash)}t(null!=i?i:void 0)}},[n,i,t])},b=e=>{let{modalIsOpen:t,directoryUuid:s}=e,n=(0,d.useRef)(null);(0,d.useEffect)(()=>{let e;try{e=new URL(window.location.href)}catch(e){return}t?(n.current||(n.current=window.location.pathname),window.history.replaceState(null,"","/directory".concat(s?"/".concat(s):"")+e.search+e.hash)):!t&&n.current&&(window.history.replaceState(null,"",n.current+e.search+e.hash),n.current=null)},[t,s])},j=[{uuid:"8c1b41b4-c060-4704-8c17-95c39fa3511c",name:"Gmail",type:"firstParty",syncSourceType:r.v8.GMAIL,oneLiner:"Draft replies, summarize threads, & search your inbox",description:"Connect Gmail to Claude to quickly find important emails and understand long conversations. Claude can search through your messages, read entire email threads to give you context, and help you stay on top of your inbox. Perfect for finding that message you remember sending, catching up on email chains you missed, or preparing for meetings.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/11088742-using-the-gmail-and-google-calendar-integrations",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"},{uuid:"da761fc3-2821-443c-9734-0b53599fda39",name:"Google Calendar",type:"firstParty",syncSourceType:r.v8.GCAL,oneLiner:"Understand your schedule and optimize your time",description:"Connect Google Calendar to Claude so it can see your schedule, find specific events, and help you prepare for meetings. Claude can search your calendar for events, check your availability, and find free time slots for scheduling. Useful for understanding what’s coming up, preparing for meetings by seeing attendee lists and details, or coordinating schedules when planning new events.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/11088742-using-the-gmail-and-google-calendar-integrations",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"},{uuid:"37fb5d42-ef62-45d4-a12e-66551527a003",name:"Google Drive",type:"firstParty",syncSourceType:r.v8.GDRIVE,oneLiner:"Find and analyze files instantly",description:"Connect Google Drive to Claude so it can search through your documents, read file contents, and help you work with your files. Claude can find specific documents even when you don’t remember the exact name, read and analyze the content of your docs, and convert files to different formats. Useful for finding old project notes, analyzing document content, or pulling information from files scattered across your Drive.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/10166901-using-the-google-drive-integration",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"}],w=()=>{let e=(0,u.Uz)();return{getCorrespondingInstalledServer:t=>{let{url:s,urlRegex:n}=t;if(s)return e.find(e=>e.url===s)||null;if(n){let t=new RegExp(n);return e.find(e=>t.test(e.url||""))||null}return null}}},C=e=>({getCorrespondingDirectoryServer:(0,d.useCallback)(t=>{let{url:s}=t;return s&&e.find(e=>{if("remote"===e.type){if(e.url)return e.url===s;else if(e.urlRegex)return new RegExp(e.urlRegex).test(s)}return!1})||null},[e])}),N=()=>{let e=(0,l.T9)("mcp_directory_servers","servers",[],g);return{status:"success",servers:[...(e=>{var t,s,n;let i=new Set;return(null==(t=e[r.v8.GMAIL])?void 0:t.available)||i.add(r.v8.GMAIL),(null==(s=e[r.v8.GCAL])?void 0:s.available)||i.add(r.v8.GCAL),(null==(n=e[r.v8.GDRIVE])?void 0:n.available)||i.add(r.v8.GDRIVE),j.filter(e=>!i.has(e.syncSourceType))})((0,c.Ou)()),...e].sort((e,t)=>e.name.localeCompare(t.name)),refetch:()=>{}}},k=()=>{let{servers:e}=N(),{getCorrespondingDirectoryServer:t}=C(e.filter(e=>"remote"===e.type));return{isRemoteServerInDirectory:e=>{let{url:s}=e;return!!t({url:s})}}},M=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{activeOrganization:t}=(0,a.YL)(),s=(0,i.Sk)("/api/organizations/".concat(null==t?void 0:t.uuid,"/dxt/extensions"),{headers:{"x-dxt-registry-version":"2"}});return"success"!==s.status?{status:s.status,servers:[],refetch:()=>{s.refetch()}}:{status:s.status,refetch:()=>{s.refetch()},servers:s.data.entries.filter(t=>e||!0!==t.is_blocklisted).map(e=>{var t,s;let n=e.manifest;return{type:"local",uuid:e.id,name:n.display_name||n.name,oneLiner:n.description,description:n.long_description||n.description,iconUrl:e.icon_url||"",toolNames:(null==(t=n.tools)?void 0:t.map(e=>e.name))||[],promptNames:(null==(s=n.prompts)?void 0:s.map(e=>e.name))||[],license:n.license,version:n.version,author:{name:n.author.name,url:n.author.url},documentation:n.documentation,support:n.support,manifest:n,downloadCount:e.download_count,lifetimeDownloadCount:e.lifetime_download_count,isBlocklisted:e.is_blocklisted,isInternal:e.is_internal}}).sort((e,t)=>{var s,n;let i=null!=(s=e.lifetimeDownloadCount)?s:-1;return(null!=(n=t.lifetimeDownloadCount)?n:-1)-i})}}},97301:(e,t,s)=>{s.d(t,{N:()=>l});var n=s(54568),i=s(45270),a=s(8835);let l=e=>{let{isDetailedView:t,directoryServer:s,handleAddFirstPartyServer:l,handleRemoveFirstPartyServer:r,handleConnectFirstPartyServer:o,handleDisconnectFirstPartyServer:d}=e,{syncSourceType:c}=s,{enabledForOrg:u,connected:m}=(0,i.Ou)()[c]||{};return(0,n.jsx)(a.i,{handleAdd:()=>l(c),handleRemove:()=>r(c),handleConnect:()=>o(c),handleDisconnect:()=>d(c),isInstalled:u,isConnected:m,isDetailedView:t,connectedByDefault:!1})}}}]);