try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a4585860-ddcb-4011-8964-3fe21bccda62",e._sentryDebugIdIdentifier="sentry-dbid-a4585860-ddcb-4011-8964-3fe21bccda62")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5270],{1385:(e,t,a)=>{a.d(t,{c:()=>u,j:()=>m});var n=a(42977),s=a(54568),r=a(90510),l=a(32987),i=a(7620),o=a(62971);function c(){let e=(0,n._)(["\n  relative\n  bg-text-500/50\n  overflow-hidden\n  after:absolute\n  after:inset-0\n  after:translate-x-[-100%]\n  after:bg-gradient-to-r after:from-always-white/0 after:from-0% after:via-always-white/20 after:via-50% after:to-100% after:to-always-white/0\n  after:animate-[shimmer_1.5s_infinite]\n"]);return c=function(){return e},e}function d(){let e=(0,n._)(["\n  relative\n  bg-bg-400\n  overflow-hidden\n  after:absolute\n  after:inset-0\n  after:translate-x-[-100%]\n  after:bg-gradient-to-r after:from-bg-000/0 after:from-0% after:via-bg-000/20 after:via-50% after:to-100% after:to-bg-000/0\n  after:animate-[shimmer_1.5s_infinite]\n"]);return d=function(){return e},e}let u=e=>{let{repeat:t,children:a}=e;return(0,s.jsx)(s.Fragment,{children:Array.from({length:t}).map((e,t)=>(0,s.jsx)(i.Fragment,{children:a},t))})};function m(e){let{className:t,height:a=24,width:n,rounded:r="full",variant:c="default"}=e,d=(0,i.useRef)(null),u={height:a,width:"number"==typeof n||"string"==typeof n?n:"object"==typeof n?(null===d.current&&(d.current=Math.round(Math.random()*(n.max-n.min))+n.min),d.current):"100%",maxWidth:"100%"};return(0,s.jsx)("light"===c?x:f,{className:(0,l.A)(t,{"rounded-full":"full"===r,"rounded-xl":"xl"===r,"rounded-lg":"lg"===r,"rounded-md":"md"===r,"rounded-sm":"sm"===r}),style:u,children:(0,s.jsx)("span",{className:"sr-only",children:(0,s.jsx)(o.A,{defaultMessage:"Loading...",id:"gjBiyjshwX"})})})}let f=r.J.div(c()),x=r.J.div(d())},15989:(e,t,a)=>{a.d(t,{J:()=>g});var n=a(54568),s=a(8027),r=a(11515),l=a(86030),i=a(64359),o=a(37076),c=a(32987),d=a(46760),u=a(62971),m=a(47823),f=a(73347),x=a(22364);function g(e){let{onClose:t,server:a}=e,c=(0,d.A)();return(0,n.jsx)(o.aF,{isOpen:!0,hasCloseButton:!0,onClose:t,modalSize:"xl",children:(0,n.jsxs)("div",{className:"px-6 pb-6",children:[(0,n.jsx)("div",{className:"flex justify-between items-start mb-6",children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(r.d,{url:a.url,fallbackSvg:(0,n.jsx)(s.B,{letter:a.name,size:40}),size:40}),(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("p",{className:"font-medium",children:a.name}),(0,n.jsx)(l.E,{children:"remote"===a.type?(0,n.jsx)(u.A,{defaultMessage:"CUSTOM",id:"Jg/zGahNtM"}):(0,n.jsx)(u.A,{defaultMessage:"LOCAL DEV",id:"S14UXqQo+W"})})]}),a.url?(0,n.jsx)(m.sd,{url:a.url}):a.version&&(0,n.jsx)("div",{className:"text-sm text-text-400",children:a.version})]})]})}),(0,n.jsx)(i.r,{gradientHeight:24,className:"h-[500px]",children:(0,n.jsx)("div",{className:"flex flex-col pb-4",children:(()=>{let e=!!a.tools.length,t=!!a.resources.length,s=!!a.prompts.length,r=!e&&t,l=!e&&!t&&s;return(0,n.jsxs)(n.Fragment,{children:[e&&(0,n.jsx)(v,{name:c.formatMessage({defaultMessage:"Tools",id:"nUT0LvZVOx"}),items:a.tools,server:a,isFirst:e}),t&&(0,n.jsx)(v,{name:c.formatMessage({defaultMessage:"Resources",id:"c/KktLImbB"}),items:a.resources,isFirst:r}),s&&(0,n.jsx)(v,{name:c.formatMessage({defaultMessage:"Prompts",id:"p7buKPIFPB"}),items:a.prompts,isFirst:l})]})})()})})]})})}function v(e){let{name:t,items:a,server:s,isFirst:r}=e;return(0,n.jsxs)("div",{className:(0,c.A)("flex flex-col pb-4",!r&&"border-t border-border-300 pt-4"),children:[(0,n.jsx)("div",{className:"sticky top-0 w-full bg-bg-100 pt-2 pb-4 z-10",children:(0,n.jsx)("div",{className:"flex gap-2 items-center",children:(0,n.jsx)("div",{className:"font-large-bold text-text-100",children:t})})}),(0,n.jsx)("div",{children:a.map(e=>{let t=(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("div",{className:"font-base-bold",children:e.displayName}),(0,n.jsx)(f.M,{text:e.description})]});return(0,n.jsx)("div",{className:"py-2",children:s?(0,n.jsx)(x.P,{tool:e,server:s,children:t},e.name):t},e.name)})})]})}},22389:(e,t,a)=>{a.d(t,{r:()=>C,z:()=>M});var n=a(54568),s=a(41417),r=a(56370),l=a(90119),i=a(96377),o=a(32987),c=a(7620),d=a(46760),u=a(25465),m=a(37076),f=a(4705),x=a(62971);function g(e){let{platform:t,onClose:a,onConfirm:r,loading:l}=e,i=(e=>{let t=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==t?void 0:t[1])||e})(t.issuer);return(0,n.jsxs)(m.aF,{isOpen:!0,onClose:a,modalSize:"md",title:(0,n.jsxs)("div",{className:"flex gap-2 items-center text-danger-000",children:[(0,n.jsx)(f.N,{size:20,weight:"bold"}),(0,n.jsx)(x.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})]}),children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("p",{className:"text-text-000",children:(0,n.jsx)(x.A,{defaultMessage:"Are you sure you want to disable the Canvas instance ‘{platformName}’?",id:"5Sw2NbmZOi",values:{platformName:t.name||i}})}),(0,n.jsxs)("div",{className:"p-3 bg-danger-100 border border-danger-200 rounded-lg",children:[(0,n.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,n.jsx)(x.A,{defaultMessage:"This action will:",id:"zvWv7FFtPu"})}),(0,n.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,n.jsx)("li",{children:(0,n.jsx)(x.A,{defaultMessage:"Temporarily disable Claude access from Canvas for this instance",id:"lIEPYlaaQV"})}),(0,n.jsx)("li",{children:(0,n.jsx)(x.A,{defaultMessage:"Prevent users from launching Claude from Canvas",id:"DeUCbJxieq"})}),(0,n.jsx)("li",{children:(0,n.jsx)(x.A,{defaultMessage:"Can be re-enabled at any time without reconfiguration",id:"wnmm8Q2qIC"})})]})]}),(0,n.jsx)("p",{className:"text-text-200 text-sm",children:(0,n.jsx)(x.A,{defaultMessage:"This Canvas instance will remain configured and can be re-enabled at any time.",id:"a5jT7TDFXC"})})]}),(0,n.jsxs)(m.vW,{children:[(0,n.jsx)(s.$,{variant:"danger",onClick:()=>r(t.id),loading:l,children:(0,n.jsx)(x.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})}),(0,n.jsx)(s.$,{variant:"secondary",onClick:a,children:(0,n.jsx)(x.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var v=a(42952),h=a(17937);function p(e){let{platform:t,onClose:a,onConfirm:r,loading:l}=e,i=(e=>{let t=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==t?void 0:t[1])||e})(t.issuer);return(0,n.jsxs)(m.aF,{isOpen:!0,onClose:a,modalSize:"md",title:(0,n.jsxs)("div",{className:"flex gap-2 items-center text-accent-secondary-000",children:[(0,n.jsx)(h.r,{size:20,weight:"bold"}),(0,n.jsx)(x.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})]}),children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("p",{className:"text-text-000",children:(0,n.jsx)(x.A,{defaultMessage:"Are you sure you want to enable the Canvas instance ‘{platformName}’?",id:"sltSpK2pM1",values:{platformName:t.name||i}})}),(0,n.jsxs)("div",{className:"p-3 bg-accent-main-100 border border-accent-main-200 rounded-lg",children:[(0,n.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,n.jsx)(x.A,{defaultMessage:"This will:",id:"+yrIUjrxTS"})}),(0,n.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,n.jsx)("li",{children:(0,n.jsx)(x.A,{defaultMessage:"Restore Claude access from Canvas for this instance",id:"6gypIwnFmn"})}),(0,n.jsx)("li",{children:(0,n.jsx)(x.A,{defaultMessage:"Allow users to launch Claude from Canvas again",id:"/aTphs8E3Z"})}),(0,n.jsx)("li",{children:(0,n.jsx)(x.A,{defaultMessage:"Reactivate the LTI integration for all users in your organization",id:"jX7w8Etxw8"})})]})]})]}),(0,n.jsxs)(m.vW,{children:[(0,n.jsx)(s.$,{variant:"primary",onClick:()=>r(t.id),loading:l,children:(0,n.jsx)(x.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})}),(0,n.jsx)(s.$,{variant:"secondary",onClick:a,children:(0,n.jsx)(x.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var b=a(82258),j=a(82010),y=a(64707),A=a(15989),C=function(e){return e[e.TOOLS=0]="TOOLS",e[e.DISCONNECT=1]="DISCONNECT",e[e.REMOVE=2]="REMOVE",e[e.DISABLE=3]="DISABLE",e[e.EDIT_CANVAS=4]="EDIT_CANVAS",e[e.DISABLE_CANVAS=5]="DISABLE_CANVAS",e[e.ENABLE_CANVAS=6]="ENABLE_CANVAS",e}({});function M(e){let{type:t,server:a,actions:m}=e,f=(0,d.A)(),x=(0,l.V)(),[h,C]=(0,c.useState)(void 0),M=()=>C(void 0),{data:w}=(0,u.sr)(),N=(0,u.oo)({onSuccess:M}),S=(0,u.Ks)({onSuccess:M}),_=(0,u.LK)({onSuccess:M}),I=null==w?void 0:w[0];if(0===m.length)return;let E={0:f.formatMessage({defaultMessage:"Tools and settings",id:"8a8L0qsqhm"}),1:f.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),3:f.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),2:f.formatMessage({defaultMessage:"Remove",id:"G/yZLul6P1"}),4:f.formatMessage({defaultMessage:"Edit",id:"wEQDC6Wv3/"}),5:f.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),6:f.formatMessage({defaultMessage:"Enable",id:"TqSTI0/TZI"})},D=null;switch(h){case 0:D=(0,n.jsx)(A.J,{server:a,onClose:M});break;case 1:D=(0,n.jsx)(j.m,{type:t,server:a,onClose:M});break;case 3:D=(0,n.jsx)(b.u,{type:t,onClose:M});break;case 2:D=(0,n.jsx)(y.f,{server:a,onClose:M});break;case 4:D=I?(0,n.jsx)(v.S,{platform:I,onClose:M,onSubmit:(e,t,a,n)=>{N.mutate({platformId:e,canvas_url:t,client_id:a,name:"".concat(t," Canvas"),deployment_ids:[n]})},loading:N.isPending}):null;break;case 5:D=I?(0,n.jsx)(g,{platform:I,onClose:M,onConfirm:e=>{_.mutate({platformId:e,is_active:!1})},loading:_.isPending}):null;break;case 6:D=I?(0,n.jsx)(p,{platform:I,onClose:M,onConfirm:e=>{S.mutate({platformId:e,is_active:!0})},loading:S.isPending}):null}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.ms,{align:"end",trigger:(0,n.jsx)(s.$,{size:"icon",variant:"outline","aria-label":a?f.formatMessage({defaultMessage:"More options for {label}",id:"rKQPgfPvWS"},{label:a.name}):f.formatMessage({defaultMessage:"More options",id:"IzCVhGdYVc"}),children:(0,n.jsx)(i.H,{size:16,weight:"bold"})}),children:m.map(e=>(0,n.jsx)(r.tJ,{className:(0,o.A)("min-w-[175px]",[1,3,2,5].includes(e)&&"text-danger-000"),onClick:()=>{if(2===e&&(null==a?void 0:a.type)==="local"&&x){var t,n;null==(n=window.claudeAppBindings)||null==(t=n.openMcpSettings)||t.call(n,a.name)}else C(e)},children:E[e]},e))}),D]})}},24644:(e,t,a)=>{a.d(t,{E:()=>i});var n=a(54568),s=a(15964),r=a(46760),l=a(62971);function i(e){let{domain:t,setDomain:a,clientId:i,setClientId:o,deploymentId:c,setDeploymentId:d}=e,u=(0,r.A)();return(0,n.jsxs)("div",{className:"flex flex-col gap-3 mt-2",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(s.ks,{required:!0,label:u.formatMessage({defaultMessage:"Canvas Domain",id:"Aok65+sKzA"}),placeholder:u.formatMessage({defaultMessage:"https://school.instructure.com or https://canvas.myschool.edu",id:"VAjV+8SnM6"}),value:t,onValueChange:e=>a(e||""),onBlur:()=>a(t.trim())}),(0,n.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,n.jsx)(l.A,{defaultMessage:"Enter your Canvas domain (e.g., ‘https://school.instructure.com’ for hosted Canvas or ‘https://canvas.myschool.edu’ for self-hosted)",id:"uFbHowgMW9"})})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(s.ks,{required:!0,label:u.formatMessage({defaultMessage:"Client ID",id:"U5+MBCY8VU"}),placeholder:u.formatMessage({defaultMessage:"00000000000000",id:"BLrL/pjQgI"}),value:i,onValueChange:e=>o(e||""),onBlur:()=>o(i.trim())}),(0,n.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,n.jsx)(l.A,{defaultMessage:"The Client ID from your Canvas LTI app registration (found in Canvas Admin > Developer Keys)",id:"iV5X/WX6MA"})})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(s.ks,{required:!0,label:u.formatMessage({defaultMessage:"Deployment ID",id:"/h+RD9WlzS"}),placeholder:u.formatMessage({defaultMessage:"1",id:"Tf9Oo0DwqC"}),value:c,onValueChange:e=>d(e||""),onBlur:()=>d(c.trim())}),(0,n.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,n.jsx)(l.A,{defaultMessage:"The Deployment ID for your Canvas LTI integration",id:"iLMNAW31CI"})})]})]})}},25465:(e,t,a)=>{a.d(t,{AW:()=>u,Ks:()=>f,LK:()=>x,oo:()=>m,sr:()=>d});var n=a(77186),s=a(1761),r=a(65631),l=a(27062),i=a(87606);let o="lti_platforms";function c(){let{value:e}=(0,l.fS)("claude_ai_velvet_accordion");return e}let d=()=>{let{activeOrganization:e,account:t}=(0,s.YL)(),a=null==e?void 0:e.uuid,l=(0,r.yI)(t,e,r.Nt.OrganizationManage),i=c();return(0,n.Sk)("/api/organizations/".concat(a,"/lti/platforms"),{queryKey:[o,{orgUUID:a}],enabled:!!e&&!!a&&l&&i})},u=e=>{let t=(0,i.useQueryClient)(),{activeOrganization:a}=(0,s.YL)(),r=null==a?void 0:a.uuid,l=c();return(0,n.L2)("/api/organizations/".concat(r,"/lti/platforms"),"PUT",{enabled:l,onSuccess:e=>{t.setQueryData([o,{orgUUID:r}],t=>t?[...t,e]:[e]),t.invalidateQueries({queryKey:[o]})},onSettled:(e,a)=>{e&&!a&&(t.setQueryData([o,{orgUUID:r}],t=>t?[...t,e]:[e]),t.invalidateQueries({queryKey:[o]}))},...e})},m=e=>{let t=(0,i.useQueryClient)(),{activeOrganization:a}=(0,s.YL)(),r=null==a?void 0:a.uuid,l=c();return(0,n.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(r,"/lti/platforms/").concat(t)},"POST",{enabled:l,onSuccess:(e,a)=>{t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]})},onSettled:(e,a,n)=>{e&&!a&&(t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]}))},...e})},f=e=>{let t=(0,i.useQueryClient)(),{activeOrganization:a}=(0,s.YL)(),r=null==a?void 0:a.uuid,l=c();return(0,n.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(r,"/lti/platforms/").concat(t)},"POST",{enabled:l,onMutate:e=>e,onSuccess:(e,a)=>{t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]})},onError:()=>{},onSettled:(e,a,n)=>{e&&!a&&(t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]}))},...e})},x=e=>{let t=(0,i.useQueryClient)(),{activeOrganization:a}=(0,s.YL)(),r=null==a?void 0:a.uuid,l=c();return(0,n.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(r,"/lti/platforms/").concat(t)},"POST",{enabled:l,onMutate:e=>e,onSuccess:(e,a)=>{t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]})},onError:()=>{},onSettled:(e,a,n)=>{e&&!a&&(t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]}))},...e})}},42952:(e,t,a)=>{a.d(t,{S:()=>c});var n=a(54568),s=a(41417),r=a(37076),l=a(7620),i=a(62971),o=a(24644);function c(e){var t;let{platform:a,onClose:c,onSubmit:d,loading:u}=e,[m,f]=(0,l.useState)(a.issuer),[x,g]=(0,l.useState)(a.client_id),[v,h]=(0,l.useState)((null==(t=a.deployment_ids)?void 0:t[0])||""),p=!m.trim()||!x.trim()||!v.trim();return(0,n.jsx)(r.aF,{isOpen:!0,onClose:c,modalSize:"xl",title:(0,n.jsx)("div",{className:"flex gap-2 items-center",children:(0,n.jsx)(i.A,{defaultMessage:"Edit Canvas Instance",id:"aBsNZWVKN+"})}),subtitle:(0,n.jsx)(i.A,{defaultMessage:"Update your Canvas LMS instance configuration",id:"FqSEGC5V7F"}),children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p||d(a.id,m.trim().replace(/\/$/,""),x.trim(),v.trim())},className:"flex flex-col",children:[(0,n.jsx)(o.E,{domain:m,setDomain:f,clientId:x,setClientId:g,deploymentId:v,setDeploymentId:h}),(0,n.jsxs)(r.vW,{children:[(0,n.jsx)(s.$,{type:"submit",loading:u,disabled:p,children:(0,n.jsx)(i.A,{defaultMessage:"Save Changes",id:"3VI9mt1zm0"})}),(0,n.jsx)(s.$,{variant:"secondary",onClick:c,children:(0,n.jsx)(i.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})})}},44077:(e,t,a)=>{a.d(t,{R:()=>i});var n=a(54568),s=a(7620),r=a(41417),l=a(37076);let i=(0,s.memo)(e=>{let{isOpen:t,onClose:a,onConfirm:i,title:o,message:c,confirmText:d="Confirm",cancelText:u="Cancel",variant:m="primary",isLoading:f,disabled:x=!1,autoFocus:g=!0,testId:v,children:h,size:p="sm"}=e,[b,j]=(0,s.useState)(!1),y=null!=f?f:b,A=(0,s.useCallback)(async()=>{if(!x&&!y){j(!0);try{let e=i();e&&"function"==typeof e.then&&await e,a()}finally{j(!1)}}},[i,a,x,y]),C=(0,s.useCallback)(()=>{y||a()},[a,y]);return(0,n.jsxs)(l.aF,{isOpen:t,onClose:C,title:o,modalSize:p,closeOnEscapeKeydown:!y,children:[(0,n.jsxs)("div",{className:"mt-1 mb-2",children:[c&&(0,n.jsx)("div",{className:"text-text-300 whitespace-pre-line",children:c}),h]}),(0,n.jsxs)(l.vW,{children:[(0,n.jsx)(r.$,{variant:"secondary",onClick:C,disabled:y,children:u}),(0,n.jsx)(r.$,{variant:"danger"===m?"danger":"primary",onClick:A,disabled:x||y,loading:y,autoFocus:g,"data-testid":v||"confirmation-modal-confirm",children:d})]})]})});i.displayName="ConfirmationModal"},45270:(e,t,a)=>{a.d(t,{Ou:()=>v,Xd:()=>h});var n=a(17411),s=a(27062),r=a(77101),l=a(37428),i=a(21036),o=a(25465),c=a(85717),d=a(65671),u=a(57934),m=a(45715),f=a(91768),x=a(22389);function g(){let{value:e}=(0,s.fS)("kingfisher_enabled"),t=(0,c.LP)(),{isDriveAuthenticated:a}=(0,c.cI)(),{value:n}=(0,s.fS)("pumpernickel_enabled"),l=(0,f.Ys)(r.v8.GMAIL),{isAuthenticated:o}=(0,f.ob)(r.v8.GMAIL),d=(0,f.Ys)(r.v8.GCAL),{isAuthenticated:u}=(0,f.ob)(r.v8.GCAL),m=(0,f.Ys)(r.v8.SLACK),{isAuthenticated:x}=(0,f.ob)(r.v8.SLACK),g=(0,i.useLayer)("trials_freemium").get("free_integrations",!1);return{[r.v8.GDRIVE]:{type:r.v8.GDRIVE,available:e||g,enabledForOrg:t,connected:a},[r.v8.GMAIL]:{type:r.v8.GMAIL,available:n||g,enabledForOrg:l,connected:o},[r.v8.GCAL]:{type:r.v8.GCAL,available:n||g,enabledForOrg:d,connected:u},[r.v8.SLACK]:{type:r.v8.SLACK,available:m,enabledForOrg:m,connected:x}}}let v=g;function h(){let e=Object.values(g()),t=(0,u.Cq)(),{isGithubAuthenticated:a}=(0,u.nB)({fetchImmediately:!0}),i=(0,l.wc)()[l.j$]||"invalid",{data:c}=(0,n.Jh)(i),v=c&&c.length>0,{value:h}=(0,s.fS)("spider_enabled_2"),p=(0,m.AI)(),{isOutlineAuthenticated:b}=(0,m.I5)(),{value:j}=(0,s.fS)("cinnabon_enabled"),y=(0,f.Ys)(r.v8.SALESFORCE),{isAuthenticated:A}=(0,f.ob)(r.v8.SALESFORCE),C=(0,f.Ys)(r.v8.ASANA),{isAuthenticated:M}=(0,f.ob)(r.v8.ASANA),{value:w}=(0,s.fS)("claude_ai_ember"),{value:N}=(0,s.fS)("claude_ai_velvet_accordion"),{data:S}=(0,o.sr)(),_=((null==S?void 0:S.filter(e=>e.is_active))||[]).length>0,I=(0,d.w5)(),{isAuthenticated:E}=(0,d.eF)();return[...e,...v?[{type:r.v8.CUTTLEFISH,available:!0,enabledForOrg:!0,connected:!0}]:[],{type:r.v8.GITHUB,available:!0,enabledForOrg:t,connected:a},{type:r.v8.OUTLINE,available:h&&!1,enabledForOrg:p,connected:b},{type:r.v8.SALESFORCE,available:j,enabledForOrg:y,connected:A},{type:r.v8.ASANA,available:j,enabledForOrg:C,connected:M},{type:r.v8.FIDDLEHEAD,available:!1,enabledForOrg:I,connected:E},{type:r.v8.CANVAS,available:w&&N&&!0,enabledForOrg:_,connected:_,connectedActions:_?[x.r.EDIT_CANVAS,x.r.DISABLE_CANVAS]:[],disconnectedActions:[]}].filter(e=>e.available)}},47823:(e,t,a)=>{a.d(t,{cG:()=>M,fI:()=>A,lg:()=>j,sd:()=>y,zA:()=>C});var n=a(54568),s=a(18472),r=a(8027),l=a(11515),i=a(1761),o=a(69916),c=a(86030),d=a(34059),u=a(1385),m=a(12072),f=a(9786),x=a(65631),g=a(77101),v=a(32987);a(7620);var h=a(46760),p=a(62971),b=a(87907);function j(){let{account:e,activeOrganization:t}=(0,i.YL)(),a=(0,x.pG)(e,t,"claude-ai"),n=(0,x.yI)(e,t,x.Nt.IntegrationsManage),s=(0,i.mV)();return{manageFromOrg:s&&(n||a),manageFromPersonal:!s}}function y(e){let{url:t}=e,{copyToClipboard:a}=(0,f.C)(),{addSuccess:s}=(0,o.Y)(),r=(0,h.A)(),l=t.length>50?"".concat(t.substring(0,47),"..."):t;return(0,n.jsx)(m.Tooltip,{tooltipContent:(0,n.jsx)(p.A,{defaultMessage:"Copy URL",id:"P8QaSQLfW+"}),side:"bottom",align:"start",children:(0,n.jsx)("div",{className:"text-sm text-text-400 cursor-pointer hover:text-text-300 transition-colors truncate",onClick:()=>{a(t),s(r.formatMessage({defaultMessage:"Server URL copied",id:"Izgggpt47N"}))},children:l})})}function A(e){let{type:t,server:a,connected:i,children:o,isInDirectory:u=!1}=e,m=(0,b.ak)(),f=a?!a.isConnected:t&&!1===i,x=t===g.v8.FIDDLEHEAD?m(t):null==a?void 0:a.name;return(0,n.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.O,{size:42,className:(0,v.A)(f&&"opacity-50"),children:(0,n.jsx)(d.A9,{type:t,size:24})}),(0,n.jsxs)("div",{className:"flex flex-col gap-1 min-w-0 relative bottom-px",children:[(0,n.jsx)("span",{className:(0,v.A)("truncate",f&&"text-text-400"),children:m(t)}),f&&(0,n.jsx)("div",{className:"text-sm text-text-500",children:(0,n.jsx)(p.A,{defaultMessage:"Disconnected",id:"FZeQlcp+xX"})})]})]}),a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.O,{size:42,className:(0,v.A)(f&&"opacity-50"),children:(0,n.jsx)(l.d,{url:a.url,fallbackSvg:(0,n.jsx)(r.B,{hideBorder:!0,letter:x||"?",size:24}),size:24})}),(0,n.jsxs)("div",{className:"flex flex-col gap-1 min-w-0 relative bottom-px",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("span",{className:(0,v.A)("truncate",f&&"text-text-400"),children:x}),!u&&(0,n.jsx)(c.E,{children:"remote"===a.type?(0,n.jsx)(p.A,{defaultMessage:"CUSTOM",id:"Jg/zGahNtM"}):(0,n.jsx)(p.A,{defaultMessage:"LOCAL DEV",id:"S14UXqQo+W"})})]}),f?(0,n.jsx)("div",{className:"text-sm text-text-500",children:(0,n.jsx)(p.A,{defaultMessage:"Disconnected",id:"FZeQlcp+xX"})}):a.url&&!u&&(0,n.jsx)(y,{url:a.url})]})]}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsx)("div",{className:"flex gap-3 items-center",children:o})]})}function C(){return(0,n.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,n.jsx)(u.j,{width:42,height:42,rounded:"lg",variant:"light"}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)(u.j,{width:120,height:20,rounded:"md",variant:"light"}),(0,n.jsx)(u.j,{width:80,height:16,rounded:"md",variant:"light"})]}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsx)("div",{className:"flex gap-3 items-center",children:(0,n.jsx)(u.j,{width:80,height:32,rounded:"md",variant:"light"})})]})}function M(e){let{className:t}=e;return(0,n.jsx)("div",{className:(0,v.A)("border-t-[0.5px] border-border-300 m-2",t)})}},64359:(e,t,a)=>{a.d(t,{r:()=>o});var n=a(54568),s=a(32987),r=a(39152),l=a.n(r),i=a(7620);function o(e){let{direction:t="vertical",disabled:a,containerClassName:r,className:o,gradientHeight:c=24,hideTopGradient:d=!1,hideBottomGradient:u=!1,contentHeightMayChange:m=!1,containerHeightMayChange:f=!1,children:x,...g}=e,v=(0,i.useRef)(null),h=(0,i.useRef)(null),[p,b]=(0,i.useState)(!0),[j,y]=(0,i.useState)(!0),A=(0,i.useRef)(p),C=(0,i.useRef)(j),M=l()((0,i.useCallback)(()=>{let e=h.current;e&&(("vertical"===t?e.scrollHeight-e.scrollTop-e.clientHeight<=1:e.scrollWidth-e.scrollLeft-e.clientWidth<=1)?A.current||(b(!0),A.current=!0):A.current&&(b(!1),A.current=!1),("vertical"===t?e.scrollTop:e.scrollLeft)<=0?C.current||(y(!0),C.current=!0):C.current&&(y(!1),C.current=!1))},[t]),150);return(0,i.useEffect)(()=>{M()},[M]),(0,i.useEffect)(()=>{if(!v.current||!m)return;let e=new ResizeObserver(M);return e.observe(v.current),()=>{e.disconnect()}},[M,m]),(0,i.useEffect)(()=>{if(!h.current||!f)return;let e=new ResizeObserver(M);return e.observe(h.current),()=>{e.disconnect()}},[M,f]),(0,n.jsx)("div",{style:{maskImage:a?void 0:"linear-gradient(to ".concat("vertical"===t?"bottom":"right",", transparent 0%, black ").concat(j||d?0:c,"px, black calc(100% - ").concat(p||u?0:c,"px), transparent 100%)")},className:(0,s.A)("vertical"===t?"min-h-0":"min-w-0",r),children:(0,n.jsx)("div",{onScroll:a?void 0:M,ref:h,className:(0,s.A)("vertical"===t?"overflow-y-auto overflow-x-hidden min-h-0":"overflow-x-auto overflow-y-hidden min-w-0",o),...g,children:m?(0,n.jsx)("div",{ref:v,children:x}):x})})}},64707:(e,t,a)=>{a.d(t,{f:()=>u});var n=a(54568),s=a(1761),r=a(69916),l=a(41417),i=a(37076),o=a(46760),c=a(62971),d=a(70659);function u(e){var t;let{onClose:a,server:u}=e,m=(0,o.A)(),f=(0,s.mV)(),{activeOrganization:x}=(0,s.YL)(),{addError:g}=(0,r.Y)(),v=u.name,{mutate:h,isPending:p}=(0,d.ll)((null==x?void 0:x.uuid)||"",null!=(t=u.uuid)?t:"",{onSuccess:a,onError:e=>{g(m.formatMessage({defaultMessage:"Failed to disconnect server",id:"zX14mjXCQK"}),{error:e})}});return(0,n.jsxs)(i.aF,{isOpen:!0,onClose:a,title:f?m.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:v}):m.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:v}),modalSize:"lg",children:[(0,n.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:f?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:v}}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(c.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:v}})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:v}}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(c.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),(0,n.jsxs)(i.vW,{layout:"right",children:[(0,n.jsx)(l.$,{onClick:a,variant:"secondary",children:(0,n.jsx)(c.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,n.jsx)(l.$,{loading:p,onClick:()=>h(),variant:"danger",children:(0,n.jsx)(c.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}},65671:(e,t,a)=>{a.d(t,{Qp:()=>u,eF:()=>d,w5:()=>c});var n=a(77186),s=a(1761),r=a(27062),l=a(37428),i=a(87606),o=a(62942);let c=()=>(0,r.fS)("fiddlehead").value,d=()=>{let{activeOrganization:e}=(0,s.YL)(),t=null==e?void 0:e.uuid,a=c(),r=(0,l.wc)(),{data:i,isFetched:d}=(0,n.Sk)("/api/oauth/organizations/".concat(t,"/oauth_tokens"),{enabled:!!(t&&a),staleTime:3e5}),u=(0,o.useSearchParams)().get("debug_fiddlehead_auth_override"),m=r[l.me],f=m&&(null==i?void 0:i.some(e=>e.application_name===m));return{isAuthenticated:null!==u?"1"===u:f,isFetched:d,initAuth:()=>{window.open(r[l.vf],"_blank")}}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,s.YL)(),a=null==t?void 0:t.uuid,r=c(),l=(0,i.useQueryClient)();return(0,n.L2)("/api/organizations/".concat(a,"/fiddlehead/disconnect_and_delete_all"),"POST",{enabled:!!(t&&r),...e,onSuccess:function(){for(var t,n=arguments.length,s=Array(n),r=0;r<n;r++)s[r]=arguments[r];l.invalidateQueries({queryKey:["/api/oauth/organizations/".concat(a,"/oauth_tokens")]}),null==(t=e.onSuccess)||t.call(e,...s)}})}},70659:(e,t,a)=>{a.d(t,{vW:()=>S,R4:()=>N,qb:()=>y,ll:()=>A,eB:()=>j,W3:()=>C,lu:()=>p,p9:()=>b,p4:()=>w});var n=a(98518),s=a(77186),r=a(1761),l=a(69916),i=a(71473),o=a(27062),c=a(44180),d=a(87606),u=a(7620),m=a(75006),f=a(57383),x=a(16253),g=a(62370);function v(e){let t=window.atob(e),a=new ArrayBuffer(t.length),n=new Uint8Array(a);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return a}let h=m.Ay.object({uuid:m.Ay.string().uuid(),name:m.Ay.string(),url:m.Ay.string(),created_at:m.Ay.string().datetime(),updated_at:m.Ay.string().datetime(),custom_oauth_client_id:m.Ay.string().nullable().optional(),custom_oauth_client_secret:m.Ay.string().nullable().optional(),is_authenticated:m.Ay.boolean().default(!1)}),p=()=>{let{value:e}=(0,o.fS)("papi_mcp");return e},b=()=>{let{value:e}=(0,o.fS)("papi_mcp_remote");return e};function j(e,t){let a=p(),n=b();return(0,s.Sk)("/api/organizations/".concat(e,"/mcp/remote_servers"),{queryKey:[i.lA,e],enabled:!n&&a&&!!e,...t,select:e=>m.z.array(h).parse(e)})}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,{track:r}=(0,n.st)(),l=(0,d.useQueryClient)(),o=b();return(0,s.L2)("/api/organizations/".concat(e,"/mcp/remote_servers"),"POST",{...t,onSuccess:(n,s,c)=>{var d;o&&M(l,e,n.uuid,"create",n),l.invalidateQueries({queryKey:[i.lA,e]}),l.invalidateQueries({queryKey:[i.qE,e]}),null==(d=t.onSuccess)||d.call(t,n,s,c),r({event_key:"claudeai.mcp.create_server",source:a.source,url:n.url,type:"remote"})}})}function A(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,d.useQueryClient)(),r=b();return(0,s.L2)("/api/organizations/".concat(e,"/mcp/remote_servers/").concat(t),"DELETE",{...a,onSettled:()=>{(0,g.eg)(t)},onSuccess:(s,l,o)=>{var c;r&&M(n,e,t,"delete"),n.invalidateQueries({queryKey:[i.lA,e]}),n.invalidateQueries({queryKey:[i.qE,e]}),null==(c=a.onSuccess)||c.call(a,s,l,o)}})}function C(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,d.useQueryClient)(),r=b();return(0,s.L2)("/api/organizations/".concat(e,"/mcp/logout/").concat(t),"POST",{...a,onSettled:()=>{(0,g.Ug)(t)},onSuccess:(s,l,o)=>{var c;r&&M(n,e,t,"logout",{connected:!1,tools:[],prompts:[],resources:[]}),n.invalidateQueries({queryKey:[i.lA,e]}),n.invalidateQueries({queryKey:[i.qE,e]}),null==(c=a.onSuccess)||c.call(a,s,l,o)}})}async function M(e,t,a,n,s){try{e.setQueryData([i.$d,t],e=>{let t=null!=e?e:[];switch(n){case"create":return[...t,s].sort((e,t)=>e.name.localeCompare(t.name));case"update":case"logout":return t.map(e=>e.uuid===a?{...e,...s}:e).sort((e,t)=>e.name.localeCompare(t.name));case"delete":return t.filter(e=>e.uuid!==a)}});let r=await fetch("/api/organizations/".concat(t,"/mcp/bootstrap")),l=await r.json();e.setQueryData([i.$d,t],l)}catch(e){(0,c.Cp)(e,{tags:{action:"updateBootstrapData"},extra:{orgUuid:t,action:n,serverUuid:a}})}}function w(e){let t=b(),{activeOrganization:a}=(0,r.YL)(),n=null==a?void 0:a.uuid;return(0,s.L2)("/api/organizations/".concat(n,"/chat_conversations/").concat(e,"/tool_approval"),"POST",{enabled:!!e&&!!n&&t})}function N(){let{mutateAsync:e}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b(),{activeOrganization:a}=(0,r.YL)(),n=null==a?void 0:a.uuid;return(0,s.L2)("/api/organizations/".concat(n,"/mcp/attach_resource"),"POST",{enabled:t&&!!n,...e})}(),t=_(),{addError:a}=(0,l.Y)(),i=b(),o=function(){let{addError:e}=(0,l.Y)(),{track:t}=(0,n.st)(),{handleUpload:a}=(0,f.oM)();return(0,u.useCallback)(async(n,s)=>{try{let e=(await (0,g.KU)(n).readResource({uri:s.uri},{timeout:15e3})).contents.map(e=>{let a;return"text"in e?(a=String(e.text),t({event_key:"mcp.resources.read",type:"text",mime_type:e.mimeType})):(a=v(e.blob),t({event_key:"mcp.resources.read",type:"binary",mime_type:e.mimeType})),new File([a],s.name,{type:e.mimeType})});e.length>0&&await a(e)}catch(t){e("Failed to upload resource. You can try again.",{error:t})}},[t,e,a])}();return(0,u.useCallback)(async n=>{let{serverUuid:s,resource:r,onClose:l}=n;if(!i)return o(s,r);try{let a=(0,g.KU)(s),n=await a.readResource({uri:r.uri},{timeout:15e3}),i=await e({resource:r,server_uuid:s,result:n});t(i),null==l||l()}catch(e){a("Failed to attach resource. You can try again.",{error:e,errorContext:{tags:{action:"attach_resource"},extra:{serverUuid:s}}})}},[e,t,a,i,o])}function S(e){let{mutateAsync:t}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b(),{activeOrganization:a}=(0,r.YL)(),n=null==a?void 0:a.uuid;return(0,s.L2)("/api/organizations/".concat(n,"/mcp/attach_prompt"),"POST",{enabled:t&&!!n,...e})}(),a=_(),{addError:i}=(0,l.Y)(),o=b(),c=function(e){let{track:t}=(0,n.st)(),{addError:a}=(0,l.Y)(),{handleUpload:s}=(0,f.oM)();return(0,u.useCallback)(async(n,r,l)=>{try{let a=await (0,g.KU)(n).getPrompt({name:r.name,arguments:l},{timeout:15e3});t({event_key:"mcp.prompts.used",argument_count:Object.keys(l).length,assistant_messages:a.messages.filter(e=>"assistant"===e.role).length,user_messages:a.messages.filter(e=>"user"===e.role).length,text_messages:a.messages.filter(e=>"text"===e.content.type).length,image_messages:a.messages.filter(e=>"image"===e.content.type).length});let i=(e,t)=>{let a=e=>{let t=x._F[e];if(!t)throw Error("Unsupported MIME type: ".concat(e));return t},n=e=>"".concat(r.name).concat(t?"_".concat(t):"",".").concat(e);switch(e.content.type){case"text":return new File([e.content.text],n("txt"),{type:"text/plain"});case"image":{let t=a(e.content.mimeType);return new File([v(e.content.data)],n(t),{type:e.content.mimeType})}case"resource":if("text"in e.content.resource){var s;let t=e.content.resource;return new File([t.text],"".concat(t.uri,".txt"),{type:null!=(s=t.mimeType)?s:"text/plain"})}if("blob"in e.content.resource){let t=e.content.resource;if(!t.mimeType)throw Error("Missing MIME type for embedded resource");let n=a(t.mimeType);return new File([v(t.blob)],"".concat(t.uri,".").concat(n),{type:t.mimeType})}throw Error("Invalid resource content");case"audio":throw Error("Audio content not supported");case"resource_link":throw Error("Resource links are not supported")}};if(1===a.messages.length)await s([i(a.messages[0],0)]);else if(a.messages.length>1){let e=a.messages.flatMap((e,t)=>"image"===e.content.type||"resource"===e.content.type&&"blob"in e.content.resource?[i(e,t)]:[]),t=a.messages.filter(e=>"text"===e.content.type||"resource"===e.content.type&&"text"in e.content.resource);if(t.length>0){let a=JSON.stringify(t,null,2);e.push(new File([a],"".concat(r.name,"_messages.json"),{type:"application/json"}))}await s(e)}null==e||e()}catch(e){a("Failed to get prompt. You can try again.",{error:e})}},[t,a,s,e])}(e);return(0,u.useCallback)(async n=>{let{serverUuid:s,prompt:r,args:l}=n;if(!o)return c(s,r,l);try{let n=(0,g.KU)(s),i=await n.getPrompt({name:r.name,arguments:l},{timeout:15e3}),o=await t({prompt:r,arguments:l,server_uuid:s,result:i});a(o),null==e||e()}catch(e){i("Failed to attach prompt. You can try again.",{error:e,errorContext:{tags:{action:"attach_prompt"},extra:{serverUuid:s}}})}},[t,a,i,e,o,c])}function _(){let{setAttachments:e,setFiles:t}=(0,f.oM)();return(0,u.useCallback)(a=>{let{files:n,attachments:s}=a;n&&n.length>0&&t(e=>{let t=new Set(e.map(e=>e.file_uuid));return[...e,...n.filter(e=>!t.has(e.file_uuid))]}),s&&s.length>0&&e(e=>Array.from(new Set([...e,...s].map(e=>JSON.stringify(e)))).map(e=>JSON.parse(e)))},[e,t])}m.z.object({name:m.z.string(),url:m.z.string(),custom_oauth_client_id:m.z.string().nullable().optional(),custom_oauth_client_secret:m.z.string().nullable().optional()}),m.z.object({name:m.z.string().optional().nullable(),url:m.z.string().optional().nullable()})},82010:(e,t,a)=>{a.d(t,{m:()=>h});var n=a(54568),s=a(17411),r=a(1761),l=a(69916),i=a(44077),o=a(77101),c=a(37428),d=a(46760),u=a(70659),m=a(85717),f=a(65671),x=a(57934),g=(a(45715),a(91768)),v=a(87907);function h(e){let{type:t,server:a,onClose:s}=e;if(a)return(0,n.jsx)(y,{server:a,onClose:s});switch(t){case o.v8.GITHUB:return(0,n.jsx)(p,{onClose:s});case o.v8.GDRIVE:return(0,n.jsx)(b,{onClose:s});case o.v8.OUTLINE:return;case o.v8.FIDDLEHEAD:return(0,n.jsx)(A,{onClose:s});case o.v8.CUTTLEFISH:return(0,n.jsx)(C,{onClose:s});default:return(0,n.jsx)(j,{type:t,onClose:s})}}function p(e){let{onClose:t}=e,{mutate:a,isPending:s}=(0,x.rW)();return(0,n.jsx)(M,{name:"GitHub",onDisconnect:a,disconnecting:s,onClose:t})}function b(e){let{onClose:t}=e,{mutate:a,isPending:s}=(0,m.U5)(),r=(0,d.A)();return(0,n.jsx)(M,{name:"Google Drive",onDisconnect:a,disconnecting:s,onClose:t,modalMessageOverride:r.formatMessage({defaultMessage:"You won’t be able to continue any previous chats that reference content from Google Docs.",id:"Zi7eVRnAwf"})})}function j(e){let{type:t,onClose:a}=e,{disconnect:s}=(0,g.ob)(t);return(0,n.jsx)(M,{name:(0,v.xI)(t),onDisconnect:s,disconnecting:!1,onClose:a})}function y(e){let{server:t,onClose:a}=e,s=(0,d.A)(),{activeOrganization:i}=(0,r.YL)(),{addError:o}=(0,l.Y)(),{mutate:c,isPending:m}=(0,u.W3)((null==i?void 0:i.uuid)||"",t.uuid,{onError:e=>{o(s.formatMessage({defaultMessage:"Failed to disconnect from server",id:"L488a5jdgF"}),{error:e})}});return(0,n.jsx)(M,{name:t.name,onDisconnect:c,disconnecting:m,onClose:a})}function A(e){let{onClose:t}=e,{mutate:a,isPending:s}=(0,f.Qp)(),r=(0,v.ak)(),l=(0,c.wc)(),i=l[c.BU],d=l[c.jT],u=l[c.fh];return(0,n.jsx)(M,{name:r(o.v8.FIDDLEHEAD),onDisconnect:a,disconnecting:s,onClose:t,modalMessageOverride:i,modalTitleOverride:d,modalButtonOverride:u})}function C(e){let{onClose:t}=e,{mutate:a,isPending:r}=(0,s.fH)(),l=(0,v.ak)();return(0,n.jsx)(M,{name:l(o.v8.CUTTLEFISH),onDisconnect:a,disconnecting:r,onClose:t})}function M(e){let{name:t,onDisconnect:a,disconnecting:s,onClose:r,modalMessageOverride:l,modalTitleOverride:o,modalButtonOverride:c}=e,u=(0,d.A)(),m=null!=o?o:u.formatMessage({defaultMessage:"Disconnect {integrationName}?",id:"MUrNVj88RO"},{integrationName:t}),f=null!=c?c:u.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),x=null!=l?l:u.formatMessage({defaultMessage:"You can still continue previous chats that reference {integrationName} content. However, Claude won’t be able to access new content or perform new tasks.",id:"tlmLidjA7e"},{integrationName:t});return(0,n.jsx)(i.R,{isOpen:!0,onClose:r,title:m,onConfirm:()=>{a(),r()},confirmText:f,variant:"danger",autoFocus:!1,message:x,size:"md",isLoading:s})}},82258:(e,t,a)=>{a.d(t,{u:()=>v});var n=a(54568),s=a(1761),r=a(41417),l=a(91926),i=a(37076),o=a(12072),c=a(77101),d=a(38583),u=a(7620),m=a(46760),f=a(62971),x=a(91768),g=a(87907);function v(e){let{type:t,onClose:a}=e,l=(0,s.mV)(),o=(0,m.A)(),{mutate:d,isPending:v}=(0,x.xc)({onSuccess:a}),[p,b]=(0,u.useState)(!1),j=(0,g.xI)(t);return(0,n.jsxs)(i.aF,{isOpen:!0,onClose:a,title:l?o.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:j}):o.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:j}),modalSize:"lg",children:[(0,n.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:j}}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(f.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:j}})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:j}}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(f.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),t===c.v8.GITHUB&&(0,n.jsx)(h,{shouldDeleteOnDisable:p,setShouldDeleteOnDisable:b}),(0,n.jsxs)(i.vW,{children:[(0,n.jsx)(r.$,{onClick:a,variant:"secondary",children:(0,n.jsx)(f.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,n.jsx)(r.$,{loading:v,onClick:()=>{d({type:t,enabled:!1,should_delete_on_disable:p}),a()},variant:"danger",children:p?(0,n.jsx)(f.A,{defaultMessage:"Disconnect and delete cached files",id:"cpicqQfn34"}):(0,n.jsx)(f.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}function h(e){let{shouldDeleteOnDisable:t,setShouldDeleteOnDisable:a}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,n.jsx)(l.f,{checkState:t?"checked":"unchecked",onClick:e=>{let{didCheck:t}=e;return a(t)},label:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-sm text-text-200",children:(0,n.jsx)(f.A,{defaultMessage:"Permanently delete cached GitHub files",id:"QWSlg2jyOj"})}),(0,n.jsx)(o.Tooltip,{tooltipContent:(0,n.jsx)(f.A,{defaultMessage:"We will never delete any files from GitHub, only files cached by claude.ai",id:"V7mFrvJBWC"}),children:(0,n.jsx)(d.R,{className:"text-text-400"})})]})})}),t&&(0,n.jsx)("div",{className:"flex items-start align-top min-h-[5rem] gap-2 mb-10 ml-10 text-danger-000",children:(0,n.jsxs)("ul",{className:"text-sm list-disc",children:[(0,n.jsx)("li",{children:(0,n.jsx)(f.A,{defaultMessage:"File deletion will begin a few minutes after submission.",id:"09chittDG9"})}),(0,n.jsx)("li",{children:(0,n.jsx)(f.A,{defaultMessage:"All files cached from GitHub will be permanently deleted from claude.ai.",id:"F1B0dvW0IP"})}),(0,n.jsx)("li",{children:(0,n.jsx)(f.A,{defaultMessage:"An audit log will be written when deletion has completed.",id:"aNLDY0cpk9"})})]})})]})}},86030:(e,t,a)=>{a.d(t,{E:()=>r});var n=a(54568),s=a(32987);let r=e=>{let{color:t="default",size:a="default",children:r,className:l,uppercase:i}=e;return(0,n.jsx)("div",{className:(0,s.$)("inline-flex items-center align-middle leading-none flex-shrink-0","default"===t&&"bg-gradient-to-bl  from-bg-500/30  to-bg-500/70 text-text-300","flat"===t&&"bg-bg-500/40 text-text-200","secondary"===t&&"bg-accent-secondary-900/40 text-accent-secondary-200","pro"===t&&"bg-gradient-to-bl  from-accent-pro-200  to-accent-pro-100  text-oncolor-100","main"===t&&"bg-gradient-to-bl  from-accent-main-200/70  to-accent-main-100  text-oncolor-100","danger"===t&&"bg-danger-900 text-danger-200","default"===a&&"h-5 px-1.5 rounded-md text-[0.625rem]","sm"===a&&"h-4 px-1 rounded text-[0.625rem]","lg"===a&&"h-6 px-2 rounded-lg text-xs",i&&"uppercase tracking-[0.015rem]",l),children:r})}},87907:(e,t,a)=>{a.d(t,{ak:()=>i,cO:()=>r,lX:()=>o,xI:()=>l});var n=a(77101),s=a(37428);let r="settings",l=e=>n.sb[e]||e,i=()=>{let e=(0,s.wc)();return t=>t===n.v8.FIDDLEHEAD&&e[s.Wj]?e[s.Wj]:t===n.v8.CUTTLEFISH&&e[s.in]?e[s.in]:n.sb[t]||t};function o(e,t){var a;return(null==(a=e.server)?void 0:a.type)==="remote"&&t(e.server)}},91926:(e,t,a)=>{a.d(t,{f:()=>l});var n=a(54568),s=a(52198),r=a(32987);let l=(0,a(7620).forwardRef)((e,t)=>{let{checkState:a,onClick:l,label:i,...o}=e,c="partial"===a?s.Hs:s.Jl;return(0,n.jsxs)("div",{className:"p-2 -m-2 flex items-center",onClick:e=>{e.stopPropagation(),l({didCheck:"unchecked"===a})},children:[(0,n.jsx)("button",{ref:t,className:(0,r.A)("rounded p-[0.5px] border-0.5 flex items-center justify-center transition","unchecked"!==a?"bg-accent-secondary-000 border-accent-secondary-200 shadow-sm":"border-border-200 hover:bg-bg-000 hover:shadow-sm"),...o,children:(0,n.jsx)(c,{className:(0,r.A)("text-always-white transition",{invisible:"unchecked"===a}),size:16})}),i&&(0,n.jsx)("span",{className:"ml-2 cursor-pointer",children:i})]})});l.displayName="PartialCheckbox"}}]);